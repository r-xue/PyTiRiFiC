

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example HXMM01: test the MS-simulation modules &mdash; ism3d 0.3.dev1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="&lt;no title&gt;" href="demo_hxmm01_dynamics.html" />
    <link rel="prev" title="Example BX610: perform model fitting using method=‘emcee’" href="demo_bx610_emcee.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ism3d
          

          
          </a>

          
            
            
              <div class="version">
                0.3.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Specification/Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/inpfile.html">Parameter File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/casa6.html">CASA6 Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop/background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/goals.html">Design Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/ack.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/seealso.html">See also</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/dictionary.html">ISM3D Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/callgraph.html">ISM3D call graph</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Direct API Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_uvhelper.html">ism3d.uvhelper: visibility imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_arts.html">ism3d.arts: model artificial sources in different shapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_lens.html">ism3d.arts.lens: model artificial sources (lensing-related)</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmarking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/demo_invert_ft.html">Invert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/test_uvsample_performance.html">Test the performance of the Image-to-MS-related modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Modeling</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_b4c2_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 2 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_b4c5_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 5 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_b6c3_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_model_1dspec.html">Invert Visibility + Plot 1D spectra (may take a while)</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_emcee.html">Example BX610: perform model fitting using method=‘emcee’</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example HXMM01: test the MS-simulation modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Data Preparation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demo_gn20_prep.html">Example: GN20 (z~4 SMF) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_prep.html">Example: BX610 (High-z SFG) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_hxmm01_prep.html">Example: HXMM01 (High-z Merger)</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_gn20_imaging.html">Example GN20: perform imaging of CO 2-1 dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_imaging.html">Example: BX610 (High-z SFG) : Data Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_autosummary/ism3d.html">ism3d</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ism3d</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Example HXMM01: test the MS-simulation modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="example-hxmm01-test-the-ms-simulation-modules">
<h1>Example HXMM01: test the MS-simulation modules<a class="headerlink" href="#example-hxmm01-test-the-ms-simulation-modules" title="Permalink to this headline">¶</a></h1>
<p>This demo is used to illustrate the capability of produce referecen
model images from model properties #### input file: demo_disk3d.inp</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">emcee</span>
<span class="kn">import</span> <span class="nn">pprint</span> <span class="k">as</span> <span class="nn">pp</span>
<span class="c1">#from pprint import pprint</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">socket</span>
<span class="k">if</span>  <span class="s1">&#39;hypersion&#39;</span> <span class="ow">or</span> <span class="s1">&#39;mini&#39;</span> <span class="ow">in</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span> <span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/output/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>

<span class="kn">import</span> <span class="nn">gmake</span>
<span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__email__</span><span class="p">)</span>
<span class="n">pp</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__demo__</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">check_setup</span><span class="p">()</span>

<span class="c1">#pp.pprint(gmake.meta.pars_def,indent=4,width=100)</span>
<span class="c1">#gmake.pprint(gmake.meta.pars_def,indent=4,width=100)</span>
<span class="c1">#gmake.pprint(gmake.meta.xymodel_header,indent=4,width=100)</span>

<span class="n">inpfile</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">__demo__</span><span class="o">+</span><span class="s1">&#39;/../examples/inpfile/hxmm01_b6c3_uv_mc.inp&#39;</span>
<span class="n">logfile</span><span class="o">=</span><span class="s1">&#39;&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_config</span><span class="p">()</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_status</span><span class="p">()</span>
<span class="c1">#gmake.logger_status(root=True)</span>

<span class="n">outdir</span><span class="o">=</span><span class="s1">&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/output/hxmm01_b6c3_uv_mc/&#39;</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_config</span><span class="p">(</span><span class="n">logfile</span><span class="o">=</span><span class="n">outdir</span><span class="o">+</span><span class="s1">&#39;/gmake.log&#39;</span><span class="p">,</span><span class="n">loglevel</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span><span class="n">logfilelevel</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_status</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="o">*</span><span class="mi">5</span><span class="p">)</span>
<span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_inp</span><span class="p">(</span><span class="n">inpfile</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span><span class="n">width</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="nb">print</span><span class="p">()</span>
<span class="c1">#def_dct=gmake.read_inp(&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/gmake/metadata/parameter_definition.inp&#39;)</span>
<span class="c1">#print(&quot;=&quot;*80)</span>
<span class="c1">#pprint(def_dct)</span>


<span class="c1">#import hickle as hkl</span>
<span class="c1">#h5file=&#39;test_hickle.h5&#39;</span>
<span class="c1">#hkl.dump(inp_dct, h5file, mode=&#39;w&#39;)</span>
<span class="c1">#dct_return=hkl.load(h5file)</span>
<span class="c1">#gmake.pprint(dct_return)</span>
</pre></div>
</div>
<pre class="literal-block">3.7.5 (default, Oct 19 2019, 11:15:26)
[Clang 11.0.0 (clang-1100.0.33.8)]
hyperion
/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/output
<strong>********exe read_inp()************</strong></pre>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Python</span> <span class="n">version</span><span class="p">:</span>   <span class="mf">3.7</span><span class="o">.</span><span class="mi">5</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Oct</span> <span class="mi">19</span> <span class="mi">2019</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">26</span><span class="p">)</span>
<span class="p">[</span><span class="n">Clang</span> <span class="mf">11.0</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">clang</span><span class="o">-</span><span class="mf">1100.0</span><span class="o">.</span><span class="mf">33.8</span><span class="p">)]</span>
<span class="n">Host</span> <span class="n">Name</span><span class="p">:</span>        <span class="n">hyperion</span>
<span class="n">Num</span> <span class="n">of</span> <span class="n">Core</span><span class="p">:</span>      <span class="mi">8</span>
<span class="n">Total</span> <span class="n">Memory</span><span class="p">:</span>     <span class="mf">32.0</span> <span class="n">GB</span>
<span class="n">Available</span> <span class="n">Memory</span><span class="p">:</span> <span class="mf">13.08</span> <span class="n">GB</span>
<span class="c1">################################################################################</span>
<span class="n">astropy</span>            <span class="o">&gt;=</span><span class="mf">3.2</span><span class="o">.</span><span class="mi">2</span>      <span class="mf">3.2</span><span class="o">.</span><span class="mi">2</span>
<span class="n">emcee</span>              <span class="o">&gt;=</span><span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span>      <span class="mf">3.0</span><span class="o">.</span><span class="mi">0</span>
<span class="n">corner</span>             <span class="o">&gt;=</span><span class="mf">2.0</span>        <span class="mf">2.0</span><span class="o">.</span><span class="mi">1</span>
<span class="n">tqdm</span>               <span class="n">unspecified</span>  <span class="mf">4.31</span><span class="o">.</span><span class="mi">1</span>
<span class="n">lmfit</span>              <span class="n">unspecified</span>  <span class="mf">0.9</span><span class="o">.</span><span class="mi">12</span>
<span class="n">asteval</span>            <span class="o">&gt;=</span><span class="mf">0.9</span><span class="o">.</span><span class="mi">14</span>     <span class="mf">0.9</span><span class="o">.</span><span class="mi">14</span>
<span class="n">numexpr</span>            <span class="o">&gt;=</span><span class="mf">2.7</span><span class="o">.</span><span class="mi">0</span>      <span class="mf">2.7</span><span class="o">.</span><span class="mi">0</span>
<span class="n">hickle</span>             <span class="n">unspecified</span>  <span class="mf">3.4</span><span class="o">.</span><span class="mi">5</span>
<span class="n">alpy</span>               <span class="n">unspecified</span>  <span class="mf">0.22</span><span class="o">.</span><span class="mi">0</span>
<span class="n">regions</span>            <span class="n">unspecified</span>  <span class="mf">0.5</span><span class="o">.</span><span class="n">dev1001</span>
<span class="n">scipy</span>              <span class="n">unspecified</span>  <span class="mf">1.2</span><span class="o">.</span><span class="mi">1</span>
<span class="n">reproject</span>          <span class="n">unspecified</span>  <span class="mf">0.6</span><span class="o">.</span><span class="n">dev646</span>
<span class="n">python</span><span class="o">-</span><span class="n">casacore</span>    <span class="o">&gt;=</span><span class="mf">3.1</span><span class="o">.</span><span class="mi">1</span>      <span class="mf">3.1</span><span class="o">.</span><span class="mi">1</span>
<span class="n">scikit</span><span class="o">-</span><span class="n">image</span>       <span class="n">unspecified</span>  <span class="mf">0.14</span><span class="o">.</span><span class="mi">2</span>
<span class="n">galpy</span>              <span class="n">unspecified</span>  <span class="mf">1.5</span><span class="o">.</span><span class="n">dev0</span>
<span class="n">mkl</span><span class="o">-</span><span class="n">fft</span>            <span class="n">unspecified</span>  <span class="mf">1.0</span><span class="o">.</span><span class="mi">14</span>
<span class="n">pvextractor</span>        <span class="o">&gt;=</span><span class="mf">0.2</span><span class="o">.</span><span class="n">dev327</span> <span class="mf">0.2</span><span class="o">.</span><span class="n">dev327</span>
<span class="n">spectral</span><span class="o">-</span><span class="n">cube</span>      <span class="o">&gt;=</span><span class="mf">0.4</span><span class="o">.</span><span class="mf">5.</span><span class="n">dev</span>  <span class="mf">0.4</span><span class="o">.</span><span class="mf">5.</span><span class="n">dev2267</span>
<span class="n">radio</span><span class="o">-</span><span class="n">beam</span>         <span class="o">&gt;=</span><span class="mf">0.3</span>        <span class="mf">0.3</span><span class="o">.</span><span class="mf">3.</span><span class="n">dev397</span>
<span class="n">reproject</span>          <span class="o">&gt;=</span><span class="mf">0.6</span><span class="o">.</span><span class="n">dev</span>    <span class="mf">0.6</span><span class="o">.</span><span class="n">dev646</span>
<span class="n">casa</span><span class="o">-</span><span class="n">proc</span>          <span class="n">unspecified</span>  <span class="mf">0.1</span><span class="o">.</span><span class="n">dev3</span>
</pre></div>
</div>
<pre class="literal-block">'0.2.dev1'
<a class="reference external" href="mailto:'rx&#46;astro&#37;&#52;&#48;gmail&#46;com">'rx<span>&#46;</span>astro<span>&#64;</span>gmail<span>&#46;</span>com</a>'
'/Users/Rui/Dropbox/Worklib/projects/GMaKE/gmake'
&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
&lt;Logger gmake (DEBUG)&gt;
[&lt;StreamHandler stderr (INFO)&gt;]
&lt;Logger gmake (DEBUG)&gt;
[&lt;FileHandler /Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/output/hxmm01_b6c3_uv_mc/gmake.log (DEBUG)&gt;, &lt;StreamHandler stderr (DEBUG)&gt;]






<strong>********exe read_inp()************</strong>
{   'basics': {'object': 'hxmm01', 'z': 2.308},
    'co76': {   'restfreq': &lt;Quantity 806.65181 GHz&gt;,
                'ncrit': &lt;Quantity 120000. 1 / cm3&gt;,
                'type': 'disk3d',
                'vis': '../data/hxmm01/alma/2015.1.00723.S/bb34.ms'},
    'ci21': {   'restfreq': &lt;Quantity 809.34197 GHz&gt;,
                'ncrit': &lt;Quantity 1300. 1 / cm3&gt;,
                'type': 'disk3d',
                'vis': '../data/hxmm01/alma/2015.1.00723.S/bb34.ms'},
    'h2o': {   'restfreq': &lt;Quantity 752.03314 GHz&gt;,
               'ncrit': &lt;Quantity 21000000. 1 / cm3&gt;,
               'type': 'disk3d',
               'vis': '../data/hxmm01/alma/2015.1.00723.S/bb1.ms'},
    'cont': {   'restfreq': &lt;Quantity 800. GHz&gt;,
                'type': 'disk2d',
                'vis': '../data/hxmm01/alma/2015.1.00723.S/bb1.ms,../data/hxmm01/alma/2015.1.00723.S/bb2.mfs.ms,../data/hxmm01/alma/2015.1.00723.S/bb34.ms'},
    'compa': {   'pa': &lt;Quantity -14. deg&gt;,
                 'inc': &lt;Quantity 79. deg&gt;,
                 'xypos': &lt;SkyCoord (ICRS): (ra, dec) in deg
    (35.0693875, -6.02831111)&gt;,
                 'vsys': &lt;Quantity 292. km / s&gt;,
                 'vrad': &lt;Quantity [0. , 0.1, 0.2, 0.3, 0.4, 0.5, 0.6] arcsec&gt;,
                 'vrot': &lt;Quantity [  0., 500., 500., 500., 500., 500., 500.] km / s&gt;,
                 'vdis': &lt;Quantity [120., 120., 120., 120., 120., 120., 120.] km / s&gt;},
    'compb': {   'pa': &lt;Quantity 1. deg&gt;,
                 'inc': &lt;Quantity 60. deg&gt;,
                 'xypos': &lt;SkyCoord (ICRS): (ra, dec) in deg
    (35.06940417, -6.02905556)&gt;,
                 'vsys': &lt;Quantity -179. km / s&gt;,
                 'vrad': &lt;Quantity [0. , 0.1, 0.2, 0.3, 0.4, 0.5, 0.6] arcsec&gt;,
                 'vrot': &lt;Quantity [  0., 480., 480., 480., 480., 480., 480.] km / s&gt;,
                 'vdis': &lt;Quantity [120., 120., 120., 120., 120., 120., 120.] km / s&gt;},
    'compc': {   'pa': &lt;Quantity -2. deg&gt;,
                 'inc': &lt;Quantity 70. deg&gt;,
                 'xypos': &lt;SkyCoord (ICRS): (ra, dec) in deg
    (35.0690375, -6.02878333)&gt;,
                 'vsys': &lt;Quantity 189. km / s&gt;,
                 'vrad': &lt;Quantity [0. , 0.1, 0.2, 0.3, 0.4, 0.5, 0.6] arcsec&gt;,
                 'vrot': &lt;Quantity [  0., 170., 170., 170., 170., 170., 170.] km / s&gt;,
                 'vdis': &lt;Quantity [60., 60., 60., 60., 60., 60., 60.] km / s&gt;},
    'co76-compa': {   'import': 'basics,co76,compa',
                      'lineflux': &lt;Quantity 1.3 Jy km / s&gt;,
                      'sbser': [&lt;Quantity 0.21709 arcsec&gt;, 1.0]},
    'ci21-compa': {   'import': 'basics,ci21,compa',
                      'lineflux': &lt;Quantity 0.65 Jy km / s&gt;,
                      'sbser': [&lt;Quantity 0.18771 arcsec&gt;, 1.0]},
    'h2o-compa': {   'import': 'basics,h2o,compa',
                     'lineflux': &lt;Quantity 0.38 Jy km / s&gt;,
                     'sbser': [&lt;Quantity 0.16759 arcsec&gt;, 1.0]},
    'cont-compa': {   'import': 'basics,cont,compa',
                      'alpha': 3.7,
                      'contflux': &lt;Quantity 1.75 mJy&gt;,
                      'sbser': [&lt;Quantity 0.11831 arcsec&gt;, 1.0]},
    'optimize': {   <a class="reference external" href="mailto:'xypos&#46;ra&#37;&#52;&#48;compa">'xypos<span>&#46;</span>ra<span>&#64;</span>compa</a>': ('o', &lt;Quantity [-2.  ,  2.  ,  0.15] arcsec&gt;),
                    <a class="reference external" href="mailto:'xypos&#46;dec&#37;&#52;&#48;compa">'xypos<span>&#46;</span>dec<span>&#64;</span>compa</a>': ('o', &lt;Quantity [-2.  ,  2.  ,  0.15] arcsec&gt;),
                    <a class="reference external" href="mailto:'vsys&#37;&#52;&#48;compa">'vsys<span>&#64;</span>compa</a>': ('a', &lt;Quantity [-120.,  500.,   40.] km / s&gt;),
                    'vrot[1:5]&#64;compa': ('a', &lt;Quantity [  0., 800.,  40.] km / s&gt;),
                    'vdis[0:5]&#64;compa': ('a', &lt;Quantity [  0., 800.,  10.] km / s&gt;),
                    <a class="reference external" href="mailto:'pa&#37;&#52;&#48;compa">'pa<span>&#64;</span>compa</a>': ('o', &lt;Quantity [-80.,  80.,   5.] deg&gt;),
                    <a class="reference external" href="mailto:'inc&#37;&#52;&#48;compa">'inc<span>&#64;</span>compa</a>': ('a', &lt;Quantity [ 5., 85.,  5.] deg&gt;),
                    <a class="reference external" href="mailto:'lineflux&#37;&#52;&#48;co76-compa">'lineflux<span>&#64;</span>co76-compa</a>': ('a', &lt;Quantity [1.e-01, 2.e+02, 5.e-02] Jy km / s&gt;),
                    'sbser[0]&#64;co76-compa': ('a', &lt;Quantity [0.01, 1.  , 0.01] arcsec&gt;),
                    <a class="reference external" href="mailto:'lineflux&#37;&#52;&#48;ci21-compa">'lineflux<span>&#64;</span>ci21-compa</a>': ('a', &lt;Quantity [1.e-01, 2.e+02, 1.e-02] Jy km / s&gt;),
                    'sbser[0]&#64;ci21-compa': ('a', &lt;Quantity [0.01, 1.  , 0.01] arcsec&gt;),
                    <a class="reference external" href="mailto:'lineflux&#37;&#52;&#48;h2o-compa">'lineflux<span>&#64;</span>h2o-compa</a>': ('a', &lt;Quantity [1.e-01, 2.e+02, 1.e-02] Jy km / s&gt;),
                    'sbser[0]&#64;h2o-compa': ('a', &lt;Quantity [0.01, 1.  , 0.01] arcsec&gt;),
                    <a class="reference external" href="mailto:'contflux&#37;&#52;&#48;cont-compa">'contflux<span>&#64;</span>cont-compa</a>': ('a', &lt;Quantity [0.0001, 0.01  , 0.01  ] Jy&gt;),
                    'sbser[0]&#64;cont-compa': ('a', &lt;Quantity [0.01, 0.3 , 0.01] arcsec&gt;),
                    <a class="reference external" href="mailto:'alpha&#37;&#52;&#48;cont-compa">'alpha<span>&#64;</span>cont-compa</a>': ('a', [3, 4.5, 0.1]),
                    'method': 'emcee',
                    'niter': 10,
                    'nwalkers': 40},
    'general': {   'outdir': 'hxmm01_b6c3_uv_mc',
                   'outname_replace': [('../data/hxmm01/alma/2015.1.00723.S/', '<a href="#id1"><span class="problematic" id="id2">b6c3_</span></a>')],
                   'outname_exclude': ['cube.', 'mfs.', 'cube3.']}}</pre>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dat_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_data</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">fill_mask</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">fill_error</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">save_data</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">mod_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">read</span> <span class="n">data</span> <span class="p">(</span><span class="n">may</span> <span class="n">take</span> <span class="n">some</span> <span class="n">time</span><span class="o">..</span><span class="p">)</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>              <span class="p">(</span><span class="mi">118553</span><span class="p">,</span> <span class="mi">161</span><span class="p">)</span>        <span class="mi">146</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>               <span class="p">(</span><span class="mi">118553</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>            <span class="mi">1</span> <span class="n">MiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">118553</span><span class="p">,)</span>            <span class="mi">463</span> <span class="n">KiB</span>             <span class="mf">1505.6934</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>          <span class="p">(</span><span class="mi">161</span><span class="p">,)</span>       <span class="mf">242.8624</span> <span class="n">GHz</span>   <span class="mf">245.3623</span> <span class="n">GHz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>         <span class="p">(</span><span class="mi">161</span><span class="p">,)</span>        <span class="mf">15.6241</span> <span class="n">MHz</span>    <span class="mf">15.6241</span> <span class="n">MHz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb34</span><span class="o">.</span><span class="n">ms</span>       <span class="mi">2</span><span class="n">h20m16</span><span class="o">.</span><span class="mi">613</span><span class="n">s</span>  <span class="o">-</span><span class="mi">6</span><span class="n">d01m43</span><span class="o">.</span><span class="mi">15</span><span class="n">s</span>
<span class="n">data</span> <span class="n">flagging</span> <span class="n">fraction</span><span class="p">:</span> <span class="mf">0.008205361199930865</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>               <span class="p">(</span><span class="mi">118430</span><span class="p">,</span> <span class="mi">110</span><span class="p">)</span>         <span class="mi">99</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>                <span class="p">(</span><span class="mi">118430</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>            <span class="mi">1</span> <span class="n">MiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>             <span class="p">(</span><span class="mi">118430</span><span class="p">,)</span>            <span class="mi">463</span> <span class="n">KiB</span>             <span class="mf">1950.195</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">110</span><span class="p">,)</span>       <span class="mf">226.3469</span> <span class="n">GHz</span>   <span class="mf">228.0500</span> <span class="n">GHz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>          <span class="p">(</span><span class="mi">110</span><span class="p">,)</span>        <span class="mf">15.6241</span> <span class="n">MHz</span>    <span class="mf">15.6241</span> <span class="n">MHz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>        <span class="mi">2</span><span class="n">h20m16</span><span class="o">.</span><span class="mi">613</span><span class="n">s</span>  <span class="o">-</span><span class="mi">6</span><span class="n">d01m43</span><span class="o">.</span><span class="mi">15</span><span class="n">s</span>
<span class="n">data</span> <span class="n">flagging</span> <span class="n">fraction</span><span class="p">:</span> <span class="mf">0.006992546421745105</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">112404</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>          <span class="mi">878</span> <span class="n">KiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">112404</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>            <span class="mi">1</span> <span class="n">MiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>         <span class="p">(</span><span class="mi">112404</span><span class="p">,)</span>            <span class="mi">439</span> <span class="n">KiB</span>             <span class="mf">224059.97</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>       <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>         <span class="mf">229.9984</span> <span class="n">GHz</span>   <span class="mf">229.9984</span> <span class="n">GHz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>      <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>           <span class="mf">1.7187</span> <span class="n">GHz</span>     <span class="mf">1.7187</span> <span class="n">GHz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">hxmm01</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00723.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>    <span class="mi">2</span><span class="n">h20m16</span><span class="o">.</span><span class="mi">613</span><span class="n">s</span>  <span class="o">-</span><span class="mi">6</span><span class="n">d01m43</span><span class="o">.</span><span class="mi">15</span><span class="n">s</span>
<span class="n">data</span> <span class="n">flagging</span> <span class="n">fraction</span><span class="p">:</span> <span class="mf">0.0</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="o">---</span> <span class="n">dat_dct</span> <span class="n">size</span> <span class="mf">251.21</span> <span class="n">Mibyte</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">took</span> <span class="mf">1.79801</span>  <span class="n">seconds</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">hxmm01_b6c3_uv_mc</span><span class="o">/</span><span class="n">dat_dct</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;co76-compa&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lineflux&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">1.3</span> <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;sbser&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.21709</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="s1">&#39;hxmm01&#39;</span><span class="p">,</span>
                <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mf">2.308</span><span class="p">,</span>
                <span class="s1">&#39;restfreq&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">806.65181</span> <span class="n">GHz</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;ncrit&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">120000.</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">cm3</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;disk3d&#39;</span><span class="p">,</span>
                <span class="s1">&#39;vis&#39;</span><span class="p">:</span> <span class="s1">&#39;../data/hxmm01/alma/2015.1.00723.S/bb34.ms&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pa&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="o">-</span><span class="mf">14.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">79.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;xypos&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">SkyCoord</span> <span class="p">(</span><span class="n">ICRS</span><span class="p">):</span> <span class="p">(</span><span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deg</span>
    <span class="p">(</span><span class="mf">35.0693875</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.02831111</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vsys&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">292.</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrad&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrot&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span>  <span class="mf">0.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vdis&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">},</span>
 <span class="s1">&#39;ci21-compa&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lineflux&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.65</span> <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;sbser&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.18771</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="s1">&#39;hxmm01&#39;</span><span class="p">,</span>
                <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mf">2.308</span><span class="p">,</span>
                <span class="s1">&#39;restfreq&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">809.34197</span> <span class="n">GHz</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;ncrit&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">1300.</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">cm3</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;disk3d&#39;</span><span class="p">,</span>
                <span class="s1">&#39;vis&#39;</span><span class="p">:</span> <span class="s1">&#39;../data/hxmm01/alma/2015.1.00723.S/bb34.ms&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pa&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="o">-</span><span class="mf">14.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">79.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;xypos&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">SkyCoord</span> <span class="p">(</span><span class="n">ICRS</span><span class="p">):</span> <span class="p">(</span><span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deg</span>
    <span class="p">(</span><span class="mf">35.0693875</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.02831111</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vsys&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">292.</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrad&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrot&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span>  <span class="mf">0.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vdis&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">},</span>
 <span class="s1">&#39;h2o-compa&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;lineflux&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.38</span> <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;sbser&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.16759</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
               <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="s1">&#39;hxmm01&#39;</span><span class="p">,</span>
               <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mf">2.308</span><span class="p">,</span>
               <span class="s1">&#39;restfreq&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">752.03314</span> <span class="n">GHz</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;ncrit&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">21000000.</span> <span class="mi">1</span> <span class="o">/</span> <span class="n">cm3</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;disk3d&#39;</span><span class="p">,</span>
               <span class="s1">&#39;vis&#39;</span><span class="p">:</span> <span class="s1">&#39;../data/hxmm01/alma/2015.1.00723.S/bb1.ms&#39;</span><span class="p">,</span>
               <span class="s1">&#39;pa&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="o">-</span><span class="mf">14.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">79.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;xypos&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">SkyCoord</span> <span class="p">(</span><span class="n">ICRS</span><span class="p">):</span> <span class="p">(</span><span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deg</span>
    <span class="p">(</span><span class="mf">35.0693875</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.02831111</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;vsys&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">292.</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;vrad&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;vrot&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span>  <span class="mf">0.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
               <span class="s1">&#39;vdis&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">},</span>
 <span class="s1">&#39;cont-compa&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;alpha&#39;</span><span class="p">:</span> <span class="mf">3.7</span><span class="p">,</span>
                <span class="s1">&#39;contflux&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">1.75</span> <span class="n">mJy</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;sbser&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">0.11831</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">],</span>
                <span class="s1">&#39;object&#39;</span><span class="p">:</span> <span class="s1">&#39;hxmm01&#39;</span><span class="p">,</span>
                <span class="s1">&#39;z&#39;</span><span class="p">:</span> <span class="mf">2.308</span><span class="p">,</span>
                <span class="s1">&#39;restfreq&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">800.</span> <span class="n">GHz</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;type&#39;</span><span class="p">:</span> <span class="s1">&#39;disk2d&#39;</span><span class="p">,</span>
                <span class="s1">&#39;vis&#39;</span><span class="p">:</span> <span class="s1">&#39;../data/hxmm01/alma/2015.1.00723.S/bb1.ms,../data/hxmm01/alma/2015.1.00723.S/bb2.mfs.ms,../data/hxmm01/alma/2015.1.00723.S/bb34.ms&#39;</span><span class="p">,</span>
                <span class="s1">&#39;pa&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="o">-</span><span class="mf">14.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;inc&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">79.</span> <span class="n">deg</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;xypos&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">SkyCoord</span> <span class="p">(</span><span class="n">ICRS</span><span class="p">):</span> <span class="p">(</span><span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="p">)</span> <span class="ow">in</span> <span class="n">deg</span>
    <span class="p">(</span><span class="mf">35.0693875</span><span class="p">,</span> <span class="o">-</span><span class="mf">6.02831111</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vsys&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="mf">292.</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrad&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">0.</span> <span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span> <span class="n">arcsec</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vrot&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span>  <span class="mf">0.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">,</span> <span class="mf">500.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="s1">&#39;vdis&#39;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">Quantity</span> <span class="p">[</span><span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">,</span> <span class="mf">120.</span><span class="p">]</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span><span class="o">&gt;</span><span class="p">},</span>
 <span class="s1">&#39;general&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;outdir&#39;</span><span class="p">:</span> <span class="s1">&#39;hxmm01_b6c3_uv_mc&#39;</span><span class="p">,</span>
             <span class="s1">&#39;outname_replace&#39;</span><span class="p">:</span> <span class="p">[(</span><span class="s1">&#39;../data/hxmm01/alma/2015.1.00723.S/&#39;</span><span class="p">,</span>
                                  <span class="s1">&#39;b6c3_&#39;</span><span class="p">)],</span>
             <span class="s1">&#39;outname_exclude&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;cube.&#39;</span><span class="p">,</span> <span class="s1">&#39;mfs.&#39;</span><span class="p">,</span> <span class="s1">&#39;cube3.&#39;</span><span class="p">]}}</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gmake</span> <span class="kn">import</span> <span class="n">model_lnprob</span>
<span class="n">fit_dct</span><span class="p">,</span><span class="n">sampler</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">)</span>
<span class="c1">#gmake.pprint(fit_dct)</span>
<span class="c1">#pp.pprint(fit_dct[&#39;p_start&#39;])</span>
<span class="n">mod_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="c1">#gmake.pprint(mod_dct)</span>
<span class="n">obj</span><span class="o">=</span><span class="n">mod_dct</span><span class="p">[</span><span class="s1">&#39;co76-compa&#39;</span><span class="p">]</span>
<span class="n">obj_out</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">obj_defunit</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">pprint</span><span class="p">(</span><span class="n">obj_out</span><span class="p">)</span>
<span class="n">lnl</span><span class="p">,</span><span class="n">blobs</span><span class="o">=</span><span class="n">model_lnprob</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_start&#39;</span><span class="p">],</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
                               <span class="n">savemodel</span><span class="o">=</span><span class="n">inp_dct</span><span class="p">[</span><span class="s1">&#39;general&#39;</span><span class="p">][</span><span class="s1">&#39;outdir&#39;</span><span class="p">],</span><span class="n">packblobs</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">optimizer</span><span class="p">:</span> <span class="n">emcee</span>
<span class="n">optimizing</span> <span class="n">parameters</span><span class="p">:</span> <span class="n">index</span> <span class="o">/</span> <span class="n">name</span> <span class="o">/</span> <span class="n">unit</span> <span class="o">/</span> <span class="n">start</span> <span class="o">/</span> <span class="n">lo_limit</span> <span class="o">/</span> <span class="n">up_limit</span> <span class="o">/</span> <span class="n">scale</span>
 <span class="mi">0</span>   <span class="n">xypos</span><span class="o">.</span><span class="n">ra</span><span class="nd">@compa</span>       <span class="n">deg</span>                   <span class="mf">35.0693875</span>    <span class="p">(</span>  <span class="mf">35.0688319</span>  <span class="p">,</span>   <span class="mf">35.0699431</span>   <span class="p">)</span>   <span class="mf">0.0000056</span>
 <span class="mi">1</span>   <span class="n">xypos</span><span class="o">.</span><span class="n">dec</span><span class="nd">@compa</span>      <span class="n">deg</span>                   <span class="o">-</span><span class="mf">6.0283111</span>    <span class="p">(</span>  <span class="o">-</span><span class="mf">6.0288667</span>  <span class="p">,</span>   <span class="o">-</span><span class="mf">6.0277556</span>   <span class="p">)</span>   <span class="mf">0.0000056</span>
 <span class="mi">2</span>   <span class="n">vsys</span><span class="nd">@compa</span>           <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                  <span class="mf">292.00</span>      <span class="p">(</span>    <span class="o">-</span><span class="mf">120.00</span>   <span class="p">,</span>     <span class="mf">500.00</span>     <span class="p">)</span>     <span class="mf">4.12</span>
 <span class="mi">3</span>   <span class="n">vrot</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span><span class="nd">@compa</span>      <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                  <span class="mf">500.00</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">800.00</span>     <span class="p">)</span>     <span class="mf">5.00</span>
 <span class="mi">4</span>   <span class="n">vdis</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span><span class="nd">@compa</span>      <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                  <span class="mf">120.00</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">800.00</span>     <span class="p">)</span>     <span class="mf">6.80</span>
 <span class="mi">5</span>   <span class="n">pa</span><span class="nd">@compa</span>             <span class="n">deg</span>                     <span class="o">-</span><span class="mf">14.00</span>      <span class="p">(</span>    <span class="o">-</span><span class="mf">94.00</span>    <span class="p">,</span>      <span class="mf">66.00</span>     <span class="p">)</span>     <span class="mf">0.80</span>
 <span class="mi">6</span>   <span class="n">inc</span><span class="nd">@compa</span>            <span class="n">deg</span>                      <span class="mf">79.00</span>      <span class="p">(</span>     <span class="mf">5.00</span>     <span class="p">,</span>      <span class="mf">85.00</span>     <span class="p">)</span>     <span class="mf">0.74</span>
 <span class="mi">7</span>   <span class="n">lineflux</span><span class="nd">@co76</span><span class="o">-</span><span class="n">compa</span>  <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                <span class="mf">1.30</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>     <span class="mf">1.99</span>
 <span class="mi">8</span>   <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@co76</span><span class="o">-</span><span class="n">compa</span>  <span class="n">arcsec</span>                   <span class="mf">0.22</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">1.00</span>      <span class="p">)</span>     <span class="mf">0.01</span>
 <span class="mi">9</span>   <span class="n">lineflux</span><span class="nd">@ci21</span><span class="o">-</span><span class="n">compa</span>  <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                <span class="mf">0.65</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>     <span class="mf">1.99</span>
 <span class="mi">10</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@ci21</span><span class="o">-</span><span class="n">compa</span>  <span class="n">arcsec</span>                   <span class="mf">0.19</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">1.00</span>      <span class="p">)</span>     <span class="mf">0.01</span>
 <span class="mi">11</span>  <span class="n">lineflux</span><span class="nd">@h2o</span><span class="o">-</span><span class="n">compa</span>   <span class="n">Jy</span> <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>                <span class="mf">0.38</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>     <span class="mf">2.00</span>
 <span class="mi">12</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@h2o</span><span class="o">-</span><span class="n">compa</span>   <span class="n">arcsec</span>                   <span class="mf">0.17</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">1.00</span>      <span class="p">)</span>     <span class="mf">0.01</span>
 <span class="mi">13</span>  <span class="n">contflux</span><span class="nd">@cont</span><span class="o">-</span><span class="n">compa</span>  <span class="n">Jy</span>                       <span class="mf">0.00</span>       <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>      <span class="mf">0.01</span>      <span class="p">)</span>     <span class="mf">0.00</span>
 <span class="mi">14</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@cont</span><span class="o">-</span><span class="n">compa</span>  <span class="n">arcsec</span>                   <span class="mf">0.12</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">0.30</span>      <span class="p">)</span>     <span class="mf">0.00</span>
 <span class="mi">15</span>  <span class="n">alpha</span><span class="nd">@cont</span><span class="o">-</span><span class="n">compa</span>                              <span class="mf">3.70</span>       <span class="p">(</span>     <span class="mf">3.00</span>     <span class="p">,</span>      <span class="mf">4.50</span>      <span class="p">)</span>     <span class="mf">0.01</span>
<span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">nwalkers</span><span class="p">:</span><span class="mi">40</span>
<span class="n">nthreads</span><span class="p">:</span><span class="mi">8</span>
<span class="n">ndim</span><span class="p">:</span>    <span class="mi">16</span>
<span class="n">outdir</span><span class="p">:</span>  <span class="n">hxmm01_b6c3_uv_mc</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>--&gt; 0.0
xypos.ra@compa 35.0693875 deg &lt;class &#39;astropy.units.core.Unit&#39;&gt;
xypos.dec@compa -6.028311111111111 deg &lt;class &#39;astropy.units.core.Unit&#39;&gt;
vsys@compa 292.0 km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
vrot[1:5]@compa 500.0 km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
vdis[0:5]@compa 120.0 km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
pa@compa -14.0 deg &lt;class &#39;astropy.units.core.Unit&#39;&gt;
inc@compa 79.0 deg &lt;class &#39;astropy.units.core.Unit&#39;&gt;
lineflux@co76-compa 1.3 Jy km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
sbser[0]@co76-compa 0.21709 arcsec &lt;class &#39;astropy.units.core.Unit&#39;&gt;
lineflux@ci21-compa 0.65 Jy km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
sbser[0]@ci21-compa 0.18771 arcsec &lt;class &#39;astropy.units.core.Unit&#39;&gt;
lineflux@h2o-compa 0.38 Jy km / s &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
sbser[0]@h2o-compa 0.16759 arcsec &lt;class &#39;astropy.units.core.Unit&#39;&gt;
contflux@cont-compa 0.00175 Jy &lt;class &#39;astropy.units.core.Unit&#39;&gt;
sbser[0]@cont-compa 0.11831 arcsec &lt;class &#39;astropy.units.core.Unit&#39;&gt;
alpha@cont-compa 3.7  &lt;class &#39;astropy.units.core.CompositeUnit&#39;&gt;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="n">UnitConversionError</span>                       <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">6</span><span class="o">-</span><span class="n">c4594b9c0fbb</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">1</span> <span class="kn">from</span> <span class="nn">gmake</span> <span class="kn">import</span> <span class="n">model_lnprob</span>
<span class="o">----&gt;</span> <span class="mi">2</span> <span class="n">fit_dct</span><span class="p">,</span><span class="n">sampler</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">)</span>
      <span class="mi">3</span> <span class="c1">#gmake.pprint(fit_dct)</span>
      <span class="mi">4</span> <span class="c1">#pp.pprint(fit_dct[&#39;p_start&#39;])</span>
      <span class="mi">5</span> <span class="n">mod_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">initial_model</span><span class="p">,</span> <span class="n">copydata</span><span class="p">)</span>
     <span class="mi">38</span>         <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
     <span class="mi">39</span>         <span class="n">lnl</span><span class="p">,</span><span class="n">lnprob</span><span class="p">,</span><span class="n">chisq</span><span class="p">,</span><span class="n">ndata</span><span class="p">,</span><span class="n">npar</span><span class="o">=</span><span class="n">model_lnprob</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_start&#39;</span><span class="p">],</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
<span class="o">---&gt;</span> <span class="mi">40</span>                                                  <span class="n">savemodel</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
     <span class="mi">41</span>         <span class="c1">#lnl,blobs=model_lnprob(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct,packblobs=True,</span>
     <span class="mi">42</span>         <span class="c1">#                       savemodel=&#39;&#39;)</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_eval</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_lnprob</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">savemodel</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">packblobs</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
    <span class="mi">251</span>     <span class="n">lnl</span><span class="p">,</span><span class="n">blobs</span><span class="o">=</span><span class="n">model_lnlike</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
    <span class="mi">252</span>                            <span class="n">savemodel</span><span class="o">=</span><span class="n">savemodel</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">nsamps</span><span class="o">=</span><span class="n">nsamps</span><span class="p">,</span>
<span class="o">--&gt;</span> <span class="mi">253</span>                            <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
    <span class="mi">254</span>
    <span class="mi">255</span>     <span class="k">if</span>  <span class="n">verbose</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_eval</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_lnlike</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">savemodel</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">returnwdev</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
     <span class="mi">47</span>
     <span class="mi">48</span>     <span class="n">models</span><span class="o">=</span><span class="n">model_api</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
<span class="o">---&gt;</span> <span class="mi">49</span>                      <span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">nsamps</span><span class="o">=</span><span class="n">nsamps</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
     <span class="mi">50</span>     <span class="c1">#print(&#39;Took {0} second on one API call&#39;.format(float(time.time()-tic0)))</span>
     <span class="mi">51</span>     <span class="c1">#gmake_listpars(mod_dct)</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_build</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_api</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
     <span class="mi">22</span>
     <span class="mi">23</span>     <span class="n">models</span><span class="o">=</span><span class="n">model_init</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
<span class="o">---&gt;</span> <span class="mi">24</span>     <span class="n">models</span><span class="o">=</span><span class="n">model_fill</span><span class="p">(</span><span class="n">models</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">nsamps</span><span class="o">=</span><span class="n">nsamps</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
     <span class="mi">25</span>     <span class="n">models</span><span class="o">=</span><span class="n">model_simobs</span><span class="p">(</span><span class="n">models</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
     <span class="mi">26</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_build</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_fill</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
    <span class="mi">244</span>                     <span class="n">imodel</span><span class="p">,</span><span class="n">imodel_prof</span><span class="o">=</span><span class="n">model_disk3d</span><span class="p">(</span><span class="n">models</span><span class="p">[</span><span class="s1">&#39;header@&#39;</span><span class="o">+</span><span class="n">vis</span><span class="p">],</span><span class="n">obj</span><span class="p">,</span>
    <span class="mi">245</span>                                                     <span class="n">model</span><span class="o">=</span><span class="n">models</span><span class="p">[</span><span class="s1">&#39;imod3d@&#39;</span><span class="o">+</span><span class="n">vis</span><span class="p">],</span>
<span class="o">--&gt;</span> <span class="mi">246</span>                                                     <span class="n">nsamps</span><span class="o">=</span><span class="n">nsamps</span><span class="p">,</span><span class="n">fixseed</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">mod_dct</span><span class="o">=</span><span class="n">mod_dct</span><span class="p">)</span>
    <span class="mi">247</span>                     <span class="c1">#print(&quot;---{0:^10} : {1:&lt;8.5f} seconds ---&quot;.format(&#39;fill:  &#39;+tag+&#39;--&gt;&#39;+vis+&#39; disk3d&#39;,time.time() - test_time))</span>
    <span class="mi">248</span>                     <span class="c1">#print(imodel.shape)</span>


<span class="o">~/</span><span class="n">Dropbox</span><span class="o">/</span><span class="n">Worklib</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_func</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_disk3d</span><span class="p">(</span><span class="n">header</span><span class="p">,</span> <span class="n">objp</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">fixseed</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">mod_dct</span><span class="p">)</span>
    <span class="mi">174</span>     <span class="n">w</span><span class="o">=</span><span class="n">WCS</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
    <span class="mi">175</span>     <span class="k">if</span>  <span class="s1">&#39;Hz&#39;</span> <span class="ow">in</span> <span class="n">header</span><span class="p">[</span><span class="s1">&#39;CUNIT3&#39;</span><span class="p">]:</span>
<span class="o">--&gt;</span> <span class="mi">176</span>         <span class="n">wz</span><span class="o">=</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;restfreq&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">])</span><span class="o">*</span><span class="p">(</span><span class="mf">1.</span><span class="o">-</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;vsys&#39;</span><span class="p">]</span><span class="o">*</span><span class="mf">1e3</span><span class="o">/</span><span class="n">const</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
    <span class="mi">177</span>         <span class="n">dv</span><span class="o">=-</span><span class="n">const</span><span class="o">.</span><span class="n">c</span><span class="o">*</span><span class="n">header</span><span class="p">[</span><span class="s1">&#39;CDELT3&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0e9</span><span class="o">*</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;restfreq&#39;</span><span class="p">]</span><span class="o">/</span><span class="p">(</span><span class="mf">1.0</span><span class="o">+</span><span class="n">obj</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]))</span><span class="o">/</span><span class="mf">1000.</span>
    <span class="mi">178</span>     <span class="k">if</span>  <span class="s1">&#39;angstrom&#39;</span> <span class="ow">in</span> <span class="n">header</span><span class="p">[</span><span class="s1">&#39;CUNIT3&#39;</span><span class="p">]:</span>


<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">astropy</span><span class="o">/</span><span class="n">units</span><span class="o">/</span><span class="n">quantity</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">__array_ufunc__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">*</span><span class="n">inputs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="mi">442</span>         <span class="c1"># consistent units between two inputs (e.g., in np.add) --</span>
    <span class="mi">443</span>         <span class="c1"># and the unit of the result (or tuple of units for nout &gt; 1).</span>
<span class="o">--&gt;</span> <span class="mi">444</span>         <span class="n">converters</span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n">converters_and_unit</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">*</span><span class="n">inputs</span><span class="p">)</span>
    <span class="mi">445</span>
    <span class="mi">446</span>         <span class="n">out</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;out&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>


<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">astropy</span><span class="o">/</span><span class="n">units</span><span class="o">/</span><span class="n">quantity_helper</span><span class="o">/</span><span class="n">converters</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">converters_and_unit</span><span class="p">(</span><span class="n">function</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="mi">187</span>                             <span class="s2">&quot;argument is not a quantity (unless the &quot;</span>
    <span class="mi">188</span>                             <span class="s2">&quot;latter is all zero/infinity/nan)&quot;</span>
<span class="o">--&gt;</span> <span class="mi">189</span>                             <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">function</span><span class="o">.</span><span class="vm">__name__</span><span class="p">))</span>
    <span class="mi">190</span>             <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
    <span class="mi">191</span>                 <span class="c1"># _can_have_arbitrary_unit failed: arg could not be compared</span>


<span class="n">UnitConversionError</span><span class="p">:</span> <span class="n">Can</span> <span class="n">only</span> <span class="n">apply</span> <span class="s1">&#39;subtract&#39;</span> <span class="n">function</span> <span class="n">to</span> <span class="n">dimensionless</span> <span class="n">quantities</span> <span class="n">when</span> <span class="n">other</span> <span class="n">argument</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">a</span> <span class="n">quantity</span> <span class="p">(</span><span class="n">unless</span> <span class="n">the</span> <span class="n">latter</span> <span class="ow">is</span> <span class="nb">all</span> <span class="n">zero</span><span class="o">/</span><span class="n">infinity</span><span class="o">/</span><span class="n">nan</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">gmake.metadata</span> <span class="kn">import</span> <span class="n">template_imheader</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">ImportError</span>                               <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">4</span><span class="o">-</span><span class="mi">72</span><span class="n">db95b36947</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="o">----&gt;</span> <span class="mi">1</span> <span class="kn">from</span> <span class="nn">gmake.metadata</span> <span class="kn">import</span> <span class="n">template_imheader</span>


<span class="ne">ImportError</span><span class="p">:</span> <span class="n">cannot</span> <span class="kn">import</span> <span class="nn">name</span> <span class="s1">&#39;template_imheader&#39;</span> <span class="kn">from</span> <span class="s1">&#39;gmake.metadata&#39;</span> <span class="p">(</span><span class="n">unknown</span> <span class="n">location</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pprint</span><span class="p">(</span><span class="n">template_imheader</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">gmake</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gmake</span><span class="o">.</span><span class="n">meta</span><span class="o">.</span><span class="n">pars_def</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">astropy.units</span> <span class="k">as</span> <span class="nn">u</span>
<span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">type</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">gmake</span><span class="o">.</span><span class="n">inp_def</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">u</span><span class="o">.</span><span class="n">Unit</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="demo_hxmm01_dynamics.html" class="btn btn-neutral float-right" title="&lt;no title&gt;" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demo_bx610_emcee.html" class="btn btn-neutral float-left" title="Example BX610: perform model fitting using method=‘emcee’" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Rui Xue

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>