

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet &mdash; ism3d 0.3.dev1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Invert Visibility + Plot 1D spectra (may take a while)" href="demo_bx610_model_1dspec.html" />
    <link rel="prev" title="Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 5 DataSet" href="demo_bx610_b4c5_uv_ab.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ism3d
          

          
          </a>

          
            
            
              <div class="version">
                0.3.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Specification/Notes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notes/inpfile.html">Parameter File Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notes/casa6.html">CASA6 Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop/background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/goals.html">Design Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/ack.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/seealso.html">See also</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/dictionary.html">ISM3D Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/callgraph.html">ISM3D call graph</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Direct API Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_uvhelper.html">ism3d.uvhelper: visibility imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_arts.html">ism3d.arts: model artificial sources in different shapes</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmarking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/demo_invert_ft.html">Invert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/test_uvsample_performance.html">Test the performance of the Image-to-MS-related modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Modeling</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_b4c2_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 2 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_b4c5_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 5 DataSet</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_model_1dspec.html">Invert Visibility + Plot 1D spectra (may take a while)</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_emcee.html">Example BX610: perform model fitting using method=‘emcee’</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_hxmm01_simulate.html">Example HXMM01: test the MS-simulation modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Data Preparation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="demo_gn20_prep.html">Example: GN20 (z~4 SMF) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_prep.html">Example: BX610 (High-z SFG) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_hxmm01_prep.html">Example: HXMM01 (High-z Merger)</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_gn20_imaging.html">Example GN20: perform imaging of CO 2-1 dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_imaging.html">Example: BX610 (High-z SFG) : Data Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_autosummary/ism3d.html">ism3d</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ism3d</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p><a class="reference external" href="https://colab.research.google.com/github/r-xue/casa_proc/blob/master/demo/test_casaproc.ipynb"><img alt="Open In Colab" src="https://colab.research.google.com/assets/colab-badge.svg" /></a></p>
<div class="section" id="example-bx610-perform-model-fitting-using-method-amoeba-for-the-band-6-cycle-3-dataset">
<h1>Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet<a class="headerlink" href="#example-bx610-perform-model-fitting-using-method-amoeba-for-the-band-6-cycle-3-dataset" title="Permalink to this headline">¶</a></h1>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">io</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">pprint</span> <span class="kn">import</span> <span class="n">pprint</span>

<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">socket</span>
<span class="k">if</span>  <span class="s1">&#39;hypersion&#39;</span> <span class="ow">or</span> <span class="s1">&#39;mini&#39;</span> <span class="ow">in</span> <span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">()</span> <span class="p">:</span>
    <span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s1">&#39;/Users/Rui/Documents/Workspace/projects/GMaKE/examples/output/&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">socket</span><span class="o">.</span><span class="n">gethostname</span><span class="p">())</span>
<span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">())</span>

<span class="kn">import</span> <span class="nn">gmake</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__email__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">gmake</span><span class="o">.</span><span class="n">__demo__</span><span class="p">)</span>

<span class="n">inpfile</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">__demo__</span><span class="o">+</span><span class="s1">&#39;/../examples/inpfile/bx610_b6c3_uv_ab.inp&#39;</span>
<span class="n">logfile</span><span class="o">=</span><span class="s1">&#39;&#39;</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&gt;&#39;</span><span class="o">*</span><span class="mi">40</span><span class="p">)</span>
<span class="c1">#gmake.logger_config()</span>
<span class="c1">#gmake.logger_status()</span>
<span class="c1">#import pprint</span>
<span class="c1">#pprint.pprint(logging.Logger.manager.loggerDict)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_config</span><span class="p">()</span>
<span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_inp</span><span class="p">(</span><span class="n">inpfile</span><span class="p">)</span>
<span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp_validate</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">outdir</span><span class="o">=</span><span class="n">inp_dct</span><span class="p">[</span><span class="s1">&#39;general&#39;</span><span class="p">][</span><span class="s1">&#39;outdir&#39;</span><span class="p">]</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_config</span><span class="p">(</span><span class="n">logfile</span><span class="o">=</span><span class="n">outdir</span><span class="o">+</span><span class="s1">&#39;/gmake.log&#39;</span><span class="p">,</span><span class="n">loglevel</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span><span class="n">logfilelevel</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">logger_status</span><span class="p">()</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">3.7</span><span class="o">.</span><span class="mi">5</span> <span class="p">(</span><span class="n">default</span><span class="p">,</span> <span class="n">Oct</span> <span class="mi">19</span> <span class="mi">2019</span><span class="p">,</span> <span class="mi">11</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mi">26</span><span class="p">)</span>
<span class="p">[</span><span class="n">Clang</span> <span class="mf">11.0</span><span class="o">.</span><span class="mi">0</span> <span class="p">(</span><span class="n">clang</span><span class="o">-</span><span class="mf">1100.0</span><span class="o">.</span><span class="mf">33.8</span><span class="p">)]</span>
<span class="n">hyperion</span>
<span class="o">/</span><span class="n">Volumes</span><span class="o">/</span><span class="n">S1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">output</span>
<span class="mf">0.2</span><span class="o">.</span><span class="n">dev1</span>
<span class="n">rx</span><span class="o">.</span><span class="n">astro</span><span class="nd">@gmail</span><span class="o">.</span><span class="n">com</span>
<span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span>
<span class="o">&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">Logger</span> <span class="n">gmake</span> <span class="p">(</span><span class="n">DEBUG</span><span class="p">)</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">FileHandler</span> <span class="o">/</span><span class="n">Volumes</span><span class="o">/</span><span class="n">S1</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">output</span><span class="o">/</span><span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">gmake</span><span class="o">.</span><span class="n">log</span> <span class="p">(</span><span class="n">DEBUG</span><span class="p">)</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">StreamHandler</span> <span class="n">stderr</span> <span class="p">(</span><span class="n">DEBUG</span><span class="p">)</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dat_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_data</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">fill_mask</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">fill_error</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">read</span> <span class="n">data</span> <span class="p">(</span><span class="n">may</span> <span class="n">take</span> <span class="n">some</span> <span class="n">time</span><span class="o">..</span><span class="p">)</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>                <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">238</span><span class="p">)</span>         <span class="mi">102</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>                 <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>              <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">25.42425919</span> <span class="mf">120.59348969</span> <span class="mf">161.43834686</span> <span class="mf">222.05312988</span> <span class="mf">274.09368896</span><span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">250752859438.0543</span> <span class="n">Hz</span> <span class="mf">252604264234.0391</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">7811834.5822</span> <span class="n">Hz</span> <span class="mf">7811834.5822</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>         <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>                <span class="n">complex64</span>       <span class="p">(</span><span class="mi">53466</span><span class="p">,</span> <span class="mi">238</span><span class="p">)</span>          <span class="mi">97</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>                 <span class="n">float32</span>         <span class="p">(</span><span class="mi">53466</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">627</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>              <span class="n">float32</span>         <span class="p">(</span><span class="mi">53466</span><span class="p">,)</span>             <span class="mi">209</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">28.95802307</span> <span class="mf">136.6611145</span>  <span class="mf">187.34054565</span> <span class="mf">248.30665283</span> <span class="mf">289.60601807</span><span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">233254349973.6942</span> <span class="n">Hz</span> <span class="mf">235105754769.6790</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="o">-</span><span class="mf">7811834.5822</span> <span class="n">Hz</span> <span class="o">-</span><span class="mf">7811834.5822</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>         <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>            <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>           <span class="mi">440</span> <span class="n">KiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>             <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>          <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">5420.21582031</span> <span class="mf">26262.67539063</span> <span class="mf">35061.7265625</span>  <span class="mf">47476.43703125</span>
 <span class="mf">59263.3984375</span> <span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>        <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">250073373567.0543</span> <span class="n">Hz</span> <span class="mf">250073373567.0543</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>       <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">1859216630.5597</span> <span class="n">Hz</span> <span class="mf">1859216630.5597</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>     <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>            <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>           <span class="mi">440</span> <span class="n">KiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>             <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>          <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">7370.546875</span>   <span class="mf">35357.1671875</span>  <span class="mf">48239.16992188</span> <span class="mf">64150.5290625</span>
 <span class="mf">75806.0703125</span> <span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>        <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">235879907576.7765</span> <span class="n">Hz</span> <span class="mf">235879907576.7765</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>       <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="o">-</span><span class="mf">1859216630.5670</span> <span class="n">Hz</span> <span class="o">-</span><span class="mf">1859216630.5670</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>     <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="o">---</span> <span class="n">dat_dct</span> <span class="n">size</span> <span class="mf">203.68</span> <span class="n">Mibyte</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">took</span> <span class="mf">1.85573</span>  <span class="n">seconds</span> <span class="o">---</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_inp</span><span class="p">(</span><span class="n">inpfile</span><span class="p">)</span>
<span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp_validate</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">mod_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">model_vrot</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">)</span>
<span class="c1">#mod_dct[&#39;co76&#39;]</span>
<span class="o">%</span><span class="k">mprun</span> -f gmake.fit_setup fit_dct=gmake.fit_setup(inp_dct,dat_dct,initial_model=False)
<span class="c1">#gmake.model_lnlike2(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct)</span>

<span class="c1">#mod_dct=gmake.inp2mod(inp_dct)</span>
<span class="c1">#gmake.pprint(mod_dct)</span>
<span class="c1">#gmake.model_vrot(mod_dct)</span>
<span class="c1">#gmake.pprint(mod_dct)</span>
<span class="c1">#gmake.model_vrot_plot(mod_dct[&#39;co76&#39;])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">optimizer</span><span class="p">:</span> <span class="n">amoeba</span>
<span class="n">optimizing</span> <span class="n">parameters</span><span class="p">:</span>
<span class="o">----------------------------------------------------------------------------------------------------</span>
<span class="n">index</span>    <span class="n">name</span>    <span class="n">unit</span>    <span class="n">start</span>    <span class="n">lo_limit</span>    <span class="n">up_limit</span>    <span class="n">scale</span>
 <span class="mi">0</span>   <span class="n">vsys</span><span class="nd">@basics</span>      <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>              <span class="mf">117.50</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">220.00</span>     <span class="p">)</span>    <span class="mf">117.50</span>
 <span class="mi">1</span>   <span class="n">disk_sd</span><span class="nd">@diskdyn</span>  <span class="n">solMass</span> <span class="o">/</span> <span class="n">pc2</span>       <span class="mf">3000.00</span>     <span class="p">(</span>    <span class="mf">100.00</span>    <span class="p">,</span>    <span class="mf">50000.00</span>    <span class="p">)</span>   <span class="mf">47000.00</span>
 <span class="mi">2</span>   <span class="n">disk_rs</span><span class="nd">@diskdyn</span>  <span class="n">kpc</span>                  <span class="mf">5.00</span>       <span class="p">(</span>     <span class="mf">0.20</span>     <span class="p">,</span>      <span class="mf">30.00</span>     <span class="p">)</span>     <span class="mf">25.00</span>
<span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">ndim</span><span class="p">:</span>    <span class="mi">3</span>
<span class="n">outdir</span><span class="p">:</span>  <span class="n">bx610_b6c3_uv_ab</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">fit</span><span class="o">.</span><span class="n">h5</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Filename</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt</span><span class="o">.</span><span class="n">py</span>

<span class="n">Line</span> <span class="c1">#    Mem usage    Increment   Line Contents</span>
<span class="o">================================================</span>
    <span class="mi">24</span>    <span class="mf">529.8</span> <span class="n">MiB</span>    <span class="mf">529.8</span> <span class="n">MiB</span>   <span class="k">def</span> <span class="nf">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">initial_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">save_model</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">copydata</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="mi">25</span>                                 <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    26                                 for method=&#39;emcee&#39;: sampler is an emcee object</span>
<span class="s2">    27                                 for method=others: sampler is a dict</span>
<span class="s2">    28                                 &quot;&quot;&quot;</span>
    <span class="mi">29</span>
    <span class="mi">30</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="n">fit_dct</span><span class="o">=</span><span class="n">opt_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">)</span>
    <span class="mi">31</span>
    <span class="mi">32</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="n">outfolder</span><span class="o">=</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;outfolder&#39;</span><span class="p">]</span>
    <span class="mi">33</span>
    <span class="mi">34</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="k">if</span>  <span class="n">copydata</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
    <span class="mi">35</span>
    <span class="mi">36</span>                                     <span class="n">dat_dct_path</span><span class="o">=</span><span class="n">outfolder</span><span class="o">+</span><span class="s1">&#39;/data.h5&#39;</span>
    <span class="mi">37</span>                                     <span class="n">dct2hdf</span><span class="p">(</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">outname</span><span class="o">=</span><span class="n">dat_dct_path</span><span class="p">)</span>
    <span class="mi">38</span>
    <span class="mi">39</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="k">if</span>  <span class="n">initial_model</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
    <span class="mi">40</span>
    <span class="mi">41</span>                                     <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
    <span class="mi">42</span>                                     <span class="k">if</span>  <span class="n">save_model</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
    <span class="mi">43</span>                                         <span class="n">lnl</span><span class="p">,</span><span class="n">lnprob</span><span class="p">,</span><span class="n">chisq</span><span class="p">,</span><span class="n">ndata</span><span class="p">,</span><span class="n">npar</span><span class="o">=</span><span class="n">model_lnprob2</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_start&#39;</span><span class="p">],</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
    <span class="mi">44</span>                                                                              <span class="n">savemodel</span><span class="o">=</span><span class="n">outfolder</span><span class="o">+</span><span class="s1">&#39;/model_0&#39;</span><span class="p">)</span>
    <span class="mi">45</span>                                     <span class="k">else</span><span class="p">:</span>
    <span class="mi">46</span>                                         <span class="n">lnl</span><span class="p">,</span><span class="n">lnprob</span><span class="p">,</span><span class="n">chisq</span><span class="p">,</span><span class="n">ndata</span><span class="p">,</span><span class="n">npar</span><span class="o">=</span><span class="n">model_lnprob2</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_start&#39;</span><span class="p">],</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
    <span class="mi">47</span>                                                                              <span class="n">savemodel</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
    <span class="mi">48</span>                                     <span class="c1">#lnl,blobs=model_lnprob(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct,packblobs=True,</span>
    <span class="mi">49</span>                                     <span class="c1">#                       savemodel=&#39;&#39;)</span>
    <span class="mi">50</span>                                     <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0:50}</span><span class="s2"> : </span><span class="si">{1:&lt;8.5f}</span><span class="s2"> seconds&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="s1">&#39;one trial&#39;</span><span class="p">,</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span><span class="o">-</span><span class="n">start_time</span><span class="p">))</span>
    <span class="mi">51</span>
    <span class="mi">52</span>                                     <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;ndata-&gt;&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">ndata</span><span class="p">))</span>
    <span class="mi">53</span>                                     <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s1">&#39;chisq-&gt;&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">chisq</span><span class="p">))</span>
    <span class="mi">54</span>                                     <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    55                                     lnl,blobs=model_lnprob(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct,</span>
<span class="s2">    56                                                            savemodel=fit_dct[&#39;outfolder&#39;]+&#39;/model_0&#39;)</span>
<span class="s2">    57                                     logger.debug(&#39;p_start:    &#39;)</span>
<span class="s2">    58                                     logger.debug(pformat(blobs))</span>
<span class="s2">    59                                     &quot;&quot;&quot;</span>
    <span class="mi">60</span>
    <span class="mi">61</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="n">dct2hdf</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">outname</span><span class="o">=</span><span class="n">outfolder</span><span class="o">+</span><span class="s1">&#39;/fit.h5&#39;</span><span class="p">)</span>
    <span class="mi">62</span>
    <span class="mi">63</span>    <span class="mf">529.8</span> <span class="n">MiB</span>      <span class="mf">0.0</span> <span class="n">MiB</span>       <span class="k">return</span> <span class="n">fit_dct</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#%mprun -f gmake.model_dynamics.model_vrot gmake.model_lnlike2(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct)</span>
<span class="c1">#%memit gmake.model_lnlike2(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct)</span>
<span class="o">%</span><span class="k">lprun</span> -f gmake.model_lnlike2 gmake.model_lnlike2(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct)
<span class="c1">#%mprun -f gmake.model_uvchi2 gmake.model_lnlike2(fit_dct[&#39;p_start&#39;],fit_dct,inp_dct,dat_dct)</span>
<span class="c1">#%lprun gmake.fit_iterate(fit_dct,inp_dct,dat_dct)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">imodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="mf">34430412.38956993</span>
<span class="n">imodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="mf">32123415.550489213</span>
<span class="n">imodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">160324.93087314288</span>
<span class="n">imodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">148850.44333369774</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Timer</span> <span class="n">unit</span><span class="p">:</span> <span class="mf">1e-06</span> <span class="n">s</span>

<span class="n">Total</span> <span class="n">time</span><span class="p">:</span> <span class="mf">1.83022</span> <span class="n">s</span>
<span class="n">File</span><span class="p">:</span> <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_eval</span><span class="o">.</span><span class="n">py</span>
<span class="n">Function</span><span class="p">:</span> <span class="n">model_lnlike2</span> <span class="n">at</span> <span class="n">line</span> <span class="mi">23</span>

<span class="n">Line</span> <span class="c1">#      Hits         Time  Per Hit   % Time  Line Contents</span>
<span class="o">==============================================================</span>
    <span class="mi">23</span>                                           <span class="k">def</span> <span class="nf">model_lnlike2</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span>
    <span class="mi">24</span>                                                            <span class="n">savemodel</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">nsamps</span><span class="o">=</span><span class="mf">1e5</span><span class="p">,</span>
    <span class="mi">25</span>                                                            <span class="n">returnwdev</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="mi">26</span>                                                            <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">test_threading</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="mi">27</span>                                               <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    28                                               the likelihood function</span>
<span class="s2">    29</span>
<span class="s2">    30                                                   step:    + fill the varying parameter into inp_dct</span>
<span class="s2">    31                                                            + convert inp_dct to mod_dct</span>
<span class="s2">    32                                                            + use mod_dct to regenerate RC</span>
<span class="s2">    33                                               &quot;&quot;&quot;</span>
    <span class="mi">34</span>
    <span class="mi">35</span>
    <span class="mi">36</span>         <span class="mi">1</span>          <span class="mf">2.0</span>      <span class="mf">2.0</span>      <span class="mf">0.0</span>      <span class="n">blobs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;lnprob&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="mi">37</span>         <span class="mi">1</span>          <span class="mf">1.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>             <span class="s1">&#39;chisq&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="mi">38</span>         <span class="mi">1</span>          <span class="mf">0.0</span>      <span class="mf">0.0</span>      <span class="mf">0.0</span>             <span class="s1">&#39;ndata&#39;</span><span class="p">:</span><span class="mf">0.0</span><span class="p">,</span>
    <span class="mi">39</span>         <span class="mi">1</span>          <span class="mf">8.0</span>      <span class="mf">8.0</span>      <span class="mf">0.0</span>             <span class="s1">&#39;wdev&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([]),</span>
    <span class="mi">40</span>         <span class="mi">1</span>          <span class="mf">1.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>             <span class="s1">&#39;npar&#39;</span><span class="p">:</span><span class="nb">len</span><span class="p">(</span><span class="n">theta</span><span class="p">)}</span>
    <span class="mi">41</span>         <span class="mi">1</span>          <span class="mf">1.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>      <span class="k">if</span>  <span class="n">returnwdev</span><span class="o">==</span><span class="kc">False</span><span class="p">:</span>
    <span class="mi">42</span>         <span class="mi">1</span>          <span class="mf">2.0</span>      <span class="mf">2.0</span>      <span class="mf">0.0</span>          <span class="k">del</span> <span class="n">blobs</span><span class="p">[</span><span class="s1">&#39;wdev&#39;</span><span class="p">]</span>
    <span class="mi">43</span>
    <span class="mi">44</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(fit_dct)*u.byte)</span>
    <span class="mi">45</span>                                               <span class="c1">#logger.info(&quot;before models size {:0.2f} ---&quot;.format(models_size))</span>
    <span class="mi">46</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(inp_dct)*u.byte)</span>
    <span class="mi">47</span>                                               <span class="c1">#logger.info(&quot;before models size {:0.2f} ---&quot;.format(models_size))</span>
    <span class="mi">48</span>
    <span class="mi">49</span>
    <span class="mi">50</span>
    <span class="mi">51</span>                                               <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">    52                                               if  test_threading==True:</span>
<span class="s2">    53                                                   #   don&#39;t actually calculate model</span>
<span class="s2">    54                                                   #   used for testing threading overheads.</span>
<span class="s2">    55                                                   x=dat_dct</span>
<span class="s2">    56                                                   t = time.time() + np.random.uniform(0.1, 0.2)</span>
<span class="s2">    57                                                   while True:</span>
<span class="s2">    58                                                       if time.time() &gt;= t:</span>
<span class="s2">    59                                                           break</span>
<span class="s2">    60                                                   return 0.0,blobs</span>
<span class="s2">    61                                               &quot;&quot;&quot;</span>
    <span class="mi">62</span>
    <span class="mi">63</span>         <span class="mi">1</span>       <span class="mf">1377.0</span>   <span class="mf">1377.0</span>      <span class="mf">0.1</span>      <span class="n">inp_dct0</span><span class="o">=</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
    <span class="mi">64</span>
    <span class="mi">65</span>
    <span class="mi">66</span>         <span class="mi">4</span>          <span class="mf">7.0</span>      <span class="mf">1.8</span>      <span class="mf">0.0</span>      <span class="k">for</span> <span class="n">ind</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_name&#39;</span><span class="p">])):</span>
    <span class="mi">67</span>                                                   <span class="c1">#print(fit_dct[&#39;p_name&#39;][ind],theta[ind],fit_dct[&#39;p_unit&#39;][ind],type(fit_dct[&#39;p_unit&#39;][ind]))</span>
    <span class="mi">68</span>         <span class="mi">3</span>        <span class="mf">173.0</span>     <span class="mf">57.7</span>      <span class="mf">0.0</span>          <span class="n">write_par</span><span class="p">(</span><span class="n">inp_dct0</span><span class="p">,</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_name&#39;</span><span class="p">][</span><span class="n">ind</span><span class="p">],</span><span class="n">theta</span><span class="p">[</span><span class="n">ind</span><span class="p">]</span><span class="o">*</span><span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;p_unit&#39;</span><span class="p">][</span><span class="n">ind</span><span class="p">],</span><span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="mi">69</span>
    <span class="mi">70</span>
    <span class="mi">71</span>
    <span class="mi">72</span>                                               <span class="c1">#tic0=time.time()</span>
    <span class="mi">73</span>         <span class="mi">1</span>       <span class="mf">1712.0</span>   <span class="mf">1712.0</span>      <span class="mf">0.1</span>      <span class="n">mod_dct</span><span class="o">=</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct0</span><span class="p">)</span>   <span class="c1"># in physical units</span>
    <span class="mi">74</span>         <span class="mi">1</span>       <span class="mf">9976.0</span>   <span class="mf">9976.0</span>      <span class="mf">0.5</span>      <span class="n">model_vrot</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">)</span>         <span class="c1"># in natural (default internal units)</span>
    <span class="mi">75</span>                                               <span class="c1">#print(&#39;Took {0} second on inp2mod&#39;.format(float(time.time()-tic0)))</span>
    <span class="mi">76</span>
    <span class="mi">77</span>
    <span class="mi">78</span>         <span class="mi">1</span>          <span class="mf">2.0</span>      <span class="mf">2.0</span>      <span class="mf">0.0</span>      <span class="k">if</span>  <span class="n">test_threading</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>
    <span class="mi">79</span>                                                   <span class="c1">#   don&#39;t actually calculate model</span>
    <span class="mi">80</span>                                                   <span class="c1">#   used for testing threading overheads.</span>
    <span class="mi">81</span>                                                   <span class="n">x</span><span class="o">=</span><span class="n">dat_dct</span>
    <span class="mi">82</span>                                                   <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">1.1</span><span class="p">,</span> <span class="mf">1.2</span><span class="p">)</span>
    <span class="mi">83</span>                                                   <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="mi">84</span>                                                       <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">&gt;=</span> <span class="n">t</span><span class="p">:</span>
    <span class="mi">85</span>                                                           <span class="k">break</span>
    <span class="mi">86</span>                                                   <span class="k">return</span> <span class="mf">0.0</span><span class="p">,</span><span class="n">blobs</span>
    <span class="mi">87</span>
    <span class="mi">88</span>
    <span class="mi">89</span>                                               <span class="c1">#tic0=time.time()</span>
    <span class="mi">90</span>                                               <span class="c1">#models=gmake_kinmspy_api(mod_dct,dat_dct=dat_dct)</span>
    <span class="mi">91</span>
    <span class="mi">92</span>                                               <span class="c1">#if  savemodel is not None:</span>
    <span class="mi">93</span>                                               <span class="c1">#    nsamps=nsamps*10</span>
    <span class="mi">94</span>
    <span class="mi">95</span>                                               <span class="c1">#print(&#39;before&#39;,process.memory_info().rss/1024/1024)</span>
    <span class="mi">96</span>                                               <span class="c1">#logger.info(&quot;before models size {:0.2f} ---&quot;.format(models_size))</span>
    <span class="mi">97</span>
    <span class="mi">98</span>         <span class="mi">1</span>      <span class="mf">33106.0</span>  <span class="mf">33106.0</span>      <span class="mf">1.8</span>      <span class="n">models</span><span class="o">=</span><span class="n">model_init2</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
    <span class="mi">99</span>         <span class="mi">1</span>      <span class="mf">15094.0</span>  <span class="mf">15094.0</span>      <span class="mf">0.8</span>      <span class="n">models_size</span><span class="o">=</span><span class="n">human_unit</span><span class="p">(</span><span class="n">get_obj_size</span><span class="p">(</span><span class="n">models</span><span class="p">)</span><span class="o">*</span><span class="n">u</span><span class="o">.</span><span class="n">byte</span><span class="p">)</span>
   <span class="mi">100</span>
   <span class="mi">101</span>
   <span class="mi">102</span>         <span class="mi">1</span>     <span class="mf">237395.0</span> <span class="mf">237395.0</span>     <span class="mf">13.0</span>      <span class="n">model_fill2</span><span class="p">(</span><span class="n">models</span><span class="p">,</span><span class="n">decomp</span><span class="o">=</span><span class="n">decomp</span><span class="p">,</span><span class="n">nsamps</span><span class="o">=</span><span class="n">nsamps</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
   <span class="mi">103</span>
   <span class="mi">104</span>                                               <span class="c1">#print(&#39;before&#39;,process.memory_info().rss/1024/1024)</span>
   <span class="mi">105</span>
   <span class="mi">106</span>
   <span class="mi">107</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(models)*u.byte)</span>
   <span class="mi">108</span>                                               <span class="c1">#logger.info(&quot;--- models size {:0.2f} ---&quot;.format(models_size))</span>
   <span class="mi">109</span>
   <span class="mi">110</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(models)*u.byte)</span>
   <span class="mi">111</span>                                               <span class="c1">#logger.info(&quot;before models size {:0.2f} ---&quot;.format(models_size))</span>
   <span class="mi">112</span>                                               <span class="c1">#for key in models:</span>
   <span class="mi">113</span>                                               <span class="c1">#    print(key,get_obj_size(models[key])/1024/1024)</span>
   <span class="mi">114</span>
   <span class="mi">115</span>
   <span class="mi">116</span>
   <span class="mi">117</span>
   <span class="mi">118</span>
   <span class="mi">119</span>                                               <span class="c1">#print(get_obj_size(models))</span>
   <span class="mi">120</span>                                               <span class="c1">#print(blobs[&#39;lnprob&#39;])</span>
   <span class="mi">121</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(models)*u.byte)</span>
   <span class="mi">122</span>                                               <span class="c1">#logger.info(&quot;after models size {:0.2f} ---&quot;.format(models_size))</span>
   <span class="mi">123</span>
   <span class="mi">124</span>
   <span class="mi">125</span>
   <span class="mi">126</span>
   <span class="mi">127</span>                                               <span class="c1">#models_size=human_unit(get_obj_size(models)*u.byte)</span>
   <span class="mi">128</span>                                               <span class="c1">#logger.info(&quot;--- models size {:0.2f} ---&quot;.format(models_size))</span>
   <span class="mi">129</span>
   <span class="mi">130</span>
   <span class="mi">131</span>
   <span class="mi">132</span>
   <span class="mi">133</span>                                               <span class="c1">#for key in models:</span>
   <span class="mi">134</span>                                               <span class="c1">#    print(key,get_obj_size(models[key])/1024/1024)</span>
   <span class="mi">135</span>
   <span class="mi">136</span>        <span class="mi">21</span>         <span class="mf">28.0</span>      <span class="mf">1.3</span>      <span class="mf">0.0</span>      <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">keys</span><span class="p">()):</span>
   <span class="mi">137</span>
   <span class="mi">138</span>        <span class="mi">20</span>         <span class="mf">22.0</span>      <span class="mf">1.1</span>      <span class="mf">0.0</span>          <span class="k">if</span>  <span class="s1">&#39;imodel@&#39;</span> <span class="ow">in</span> <span class="n">tag</span><span class="p">:</span>
   <span class="mi">139</span>
   <span class="mi">140</span>         <span class="mi">4</span>          <span class="mf">9.0</span>      <span class="mf">2.2</span>      <span class="mf">0.0</span>              <span class="k">if</span>  <span class="n">models</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;type@&#39;</span><span class="p">)]</span><span class="o">==</span><span class="s1">&#39;vis&#39;</span><span class="p">:</span>
   <span class="mi">141</span>                                                           <span class="c1">#print(models[tag])</span>
   <span class="mi">142</span>         <span class="mi">4</span>          <span class="mf">7.0</span>      <span class="mf">1.8</span>      <span class="mf">0.0</span>                  <span class="n">chi2</span><span class="o">=</span><span class="n">model_uvchi2</span><span class="p">(</span><span class="n">models</span><span class="p">[</span><span class="n">tag</span><span class="p">],</span><span class="c1">#*models[tag.replace(&#39;imod3d@&#39;,&#39;pbeam@&#39;)],</span>
   <span class="mi">143</span>                                                                                <span class="c1">#models[tag.replace(&#39;imod3d@&#39;,&#39;imod2d@&#39;)],#*models[tag.replace(&#39;imod3d@&#39;,&#39;pbeam@&#39;)],</span>
   <span class="mi">144</span>         <span class="mi">4</span>          <span class="mf">4.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>                                       <span class="n">models</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;header@&#39;</span><span class="p">)],</span>
   <span class="mi">145</span>         <span class="mi">4</span>          <span class="mf">7.0</span>      <span class="mf">1.8</span>      <span class="mf">0.0</span>                                       <span class="n">dat_dct</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;data@&#39;</span><span class="p">)],</span>
   <span class="mi">146</span>         <span class="mi">4</span>          <span class="mf">6.0</span>      <span class="mf">1.5</span>      <span class="mf">0.0</span>                                       <span class="n">dat_dct</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;uvw@&#39;</span><span class="p">)],</span>
   <span class="mi">147</span>         <span class="mi">4</span>          <span class="mf">5.0</span>      <span class="mf">1.2</span>      <span class="mf">0.0</span>                                       <span class="n">dat_dct</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;phasecenter@&#39;</span><span class="p">)],</span>
   <span class="mi">148</span>         <span class="mi">4</span>          <span class="mf">4.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>                                       <span class="n">dat_dct</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;weight@&#39;</span><span class="p">)],</span>
   <span class="mi">149</span>         <span class="mi">4</span>          <span class="mf">3.0</span>      <span class="mf">0.8</span>      <span class="mf">0.0</span>                                       <span class="n">average</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
   <span class="mi">150</span>         <span class="mi">4</span>    <span class="mf">1528166.0</span> <span class="mf">382041.5</span>     <span class="mf">83.5</span>                                       <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
   <span class="mi">151</span>                                                           <span class="c1">#print(chi2)</span>
   <span class="mi">152</span>         <span class="mi">4</span>         <span class="mf">10.0</span>      <span class="mf">2.5</span>      <span class="mf">0.0</span>                  <span class="n">blobs</span><span class="p">[</span><span class="s1">&#39;chisq&#39;</span><span class="p">]</span><span class="o">+=</span><span class="n">chi2</span>
   <span class="mi">153</span>         <span class="mi">4</span>       <span class="mf">3094.0</span>    <span class="mf">773.5</span>      <span class="mf">0.2</span>                  <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> </span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">tag</span><span class="p">,</span><span class="n">chi2</span><span class="p">))</span>
   <span class="mi">154</span>
   <span class="mi">155</span>         <span class="mi">1</span>          <span class="mf">1.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>      <span class="n">lnl</span><span class="o">=</span><span class="n">blobs</span><span class="p">[</span><span class="s1">&#39;lnprob&#39;</span><span class="p">]</span>
   <span class="mi">156</span>                                               <span class="c1">#print(&#39;after&#39;,process.memory_info().rss/1024/1024)</span>
   <span class="mi">157</span>                                               <span class="c1">#logger.debug(&quot;{0} {1}&quot;.format(&#39;--&gt;&#39;,blobs[&#39;chisq&#39;]))</span>
   <span class="mi">158</span>         <span class="mi">1</span>          <span class="mf">1.0</span>      <span class="mf">1.0</span>      <span class="mf">0.0</span>      <span class="k">return</span> <span class="n">lnl</span><span class="p">,</span><span class="n">blobs</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">read_inp</span><span class="p">(</span><span class="n">inpfile</span><span class="p">)</span>
<span class="n">inp_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp_validate</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">mod_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">inp2mod</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">model_vrot</span><span class="p">(</span><span class="n">mod_dct</span><span class="p">)</span>
<span class="c1">#mod_dct[&#39;co76&#39;]</span>
<span class="n">fit_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">initial_model</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">fit_iterate</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">optimizer</span><span class="p">:</span> <span class="n">amoeba</span>
<span class="n">optimizing</span> <span class="n">parameters</span><span class="p">:</span>
<span class="o">----------------------------------------------------------------------------------------------------</span>
<span class="n">index</span>    <span class="n">name</span>    <span class="n">unit</span>    <span class="n">start</span>    <span class="n">lo_limit</span>    <span class="n">up_limit</span>    <span class="n">scale</span>
 <span class="mi">0</span>   <span class="n">vsys</span><span class="nd">@basics</span>      <span class="n">km</span> <span class="o">/</span> <span class="n">s</span>              <span class="mf">117.50</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">220.00</span>     <span class="p">)</span>    <span class="mf">117.50</span>
 <span class="mi">1</span>   <span class="n">disk_sd</span><span class="nd">@diskdyn</span>  <span class="n">solMass</span> <span class="o">/</span> <span class="n">pc2</span>       <span class="mf">3000.00</span>     <span class="p">(</span>    <span class="mf">100.00</span>    <span class="p">,</span>    <span class="mf">50000.00</span>    <span class="p">)</span>   <span class="mf">47000.00</span>
 <span class="mi">2</span>   <span class="n">disk_rs</span><span class="nd">@diskdyn</span>  <span class="n">kpc</span>                  <span class="mf">5.00</span>       <span class="p">(</span>     <span class="mf">0.20</span>     <span class="p">,</span>      <span class="mf">30.00</span>     <span class="p">)</span>     <span class="mf">25.00</span>
<span class="o">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</span>
<span class="n">ndim</span><span class="p">:</span>    <span class="mi">3</span>
<span class="n">outdir</span><span class="p">:</span>  <span class="n">bx610_b6c3_uv_ab</span>
<span class="o">--&gt;</span> <span class="mf">66862999.715953484</span>
<span class="n">one</span> <span class="n">trial</span>                                          <span class="p">:</span> <span class="mf">1.53849</span>  <span class="n">seconds</span>
<span class="n">ndata</span><span class="o">-&gt;</span><span class="mf">0.0</span>
<span class="n">chisq</span><span class="o">-&gt;</span><span class="mf">66862999.715953484</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">fit</span><span class="o">.</span><span class="n">h5</span>

<span class="n">Running</span> <span class="n">AMOEBA</span><span class="o">...</span>
<span class="o">&gt;&gt;</span><span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">amoeba_chain</span><span class="o">.</span><span class="n">h5</span>

<span class="o">--&gt;</span> <span class="mf">66863006.92562753</span>
<span class="o">--&gt;</span> <span class="mf">66862422.22514197</span>
<span class="o">--&gt;</span> <span class="mf">66862158.710540414</span>
     <span class="mi">0</span>   <span class="mi">66862159</span>        <span class="n">inf</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt_amoeba</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">284</span><span class="p">:</span> <span class="ne">RuntimeWarning</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">value</span> <span class="n">encountered</span> <span class="ow">in</span> <span class="n">double_scalars</span>
  <span class="n">rtol</span><span class="o">=</span><span class="mf">2.0</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="n">ihi</span><span class="p">]</span><span class="o">-</span><span class="n">y</span><span class="p">[</span><span class="n">ilo</span><span class="p">])</span><span class="o">/</span><span class="n">d</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">--&gt;</span> <span class="mf">66862706.98227224</span>
     <span class="mi">1</span>   <span class="mi">66862159</span>   <span class="mi">66863007</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---------------------------------------------------------------------------</span>

<span class="ne">KeyboardInterrupt</span>                         <span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">ipython</span><span class="o">-</span><span class="nb">input</span><span class="o">-</span><span class="mi">57</span><span class="o">-</span><span class="n">ddceeea01f29</span><span class="o">&gt;</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
      <span class="mi">5</span> <span class="c1">#mod_dct[&#39;co76&#39;]</span>
      <span class="mi">6</span> <span class="n">fit_dct</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">fit_setup</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">initial_model</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="o">----&gt;</span> <span class="mi">7</span> <span class="n">gmake</span><span class="o">.</span><span class="n">fit_iterate</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">)</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">fit_iterate</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">)</span>
    <span class="mi">226</span>
    <span class="mi">227</span>     <span class="k">if</span>  <span class="s1">&#39;amoeba&#39;</span> <span class="ow">in</span> <span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]:</span>
<span class="o">--&gt;</span> <span class="mi">228</span>         <span class="n">amoeba_iterate</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">nstep</span><span class="o">=</span><span class="n">inp_dct</span><span class="p">[</span><span class="s1">&#39;optimize&#39;</span><span class="p">][</span><span class="s1">&#39;niter&#39;</span><span class="p">])</span>
    <span class="mi">229</span>         <span class="k">return</span>
    <span class="mi">230</span>     <span class="k">if</span>  <span class="s1">&#39;emcee&#39;</span> <span class="ow">in</span> <span class="n">fit_dct</span><span class="p">[</span><span class="s1">&#39;method&#39;</span><span class="p">]:</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt_amoeba</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">amoeba_iterate</span><span class="p">(</span><span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">nstep</span><span class="p">)</span>
     <span class="mi">36</span>                        <span class="n">funcargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;fit_dct&#39;</span><span class="p">:</span><span class="n">fit_dct</span><span class="p">,</span><span class="s1">&#39;inp_dct&#39;</span><span class="p">:</span><span class="n">inp_dct</span><span class="p">,</span><span class="s1">&#39;dat_dct&#39;</span><span class="p">:</span><span class="n">dat_dct</span><span class="p">},</span>
     <span class="mi">37</span>                        <span class="n">ftol</span><span class="o">=</span><span class="mf">1e-10</span><span class="p">,</span><span class="n">temperature</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
<span class="o">---&gt;</span> <span class="mi">38</span>                        <span class="n">maxiter</span><span class="o">=</span><span class="n">nstep</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
     <span class="mi">39</span>     <span class="c1">#lnl,blobs=model_lnlike(p_amoeba[&#39;p_best&#39;],fit_dct,inp_dct,dat_dct)</span>
     <span class="mi">40</span>     <span class="c1">#p_amoeba[&#39;blobs&#39;]=blobs</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt_amoeba</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">amoeba_sa</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">p0</span><span class="p">,</span> <span class="n">scale</span><span class="p">,</span> <span class="n">p_lo</span><span class="p">,</span> <span class="n">p_up</span><span class="p">,</span> <span class="n">funcargs</span><span class="p">,</span> <span class="n">ftol</span><span class="p">,</span> <span class="n">maxiter</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">format_prec</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
    <span class="mi">295</span>                        <span class="n">temperature</span><span class="o">=</span><span class="n">temperature</span><span class="p">,</span>
    <span class="mi">296</span>                        <span class="n">p_up</span><span class="o">=</span><span class="n">p_up</span><span class="p">,</span><span class="n">p_lo</span><span class="o">=</span><span class="n">p_lo</span><span class="p">,</span>
<span class="o">--&gt;</span> <span class="mi">297</span>                        <span class="n">pars</span><span class="o">=</span><span class="n">pars</span><span class="p">,</span><span class="n">chi2</span><span class="o">=</span><span class="n">chi2</span><span class="p">,</span><span class="n">funcargs</span><span class="o">=</span><span class="n">funcargs</span><span class="p">)</span>
    <span class="mi">298</span>         <span class="c1">#print &#39;&lt;-&#39;,psum</span>
    <span class="mi">299</span>         <span class="k">if</span>  <span class="n">ytry</span><span class="o">&lt;=</span><span class="n">y</span><span class="p">[</span><span class="n">ilo</span><span class="p">]:</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">opt_amoeba</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">amotry_sa</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">p</span><span class="p">,</span> <span class="n">psum</span><span class="p">,</span> <span class="n">ihi</span><span class="p">,</span> <span class="n">fac</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">temperature</span><span class="p">,</span> <span class="n">p_up</span><span class="p">,</span> <span class="n">p_lo</span><span class="p">,</span> <span class="n">pars</span><span class="p">,</span> <span class="n">chi2</span><span class="p">,</span> <span class="n">funcargs</span><span class="p">)</span>
    <span class="mi">350</span>     <span class="n">ptry</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="n">psum</span><span class="o">*</span><span class="n">fac1</span><span class="o">-</span><span class="n">p</span><span class="p">[:,</span><span class="n">ihi</span><span class="p">]</span><span class="o">*</span><span class="n">fac2</span><span class="p">,</span><span class="n">p_up</span><span class="p">),</span><span class="n">p_lo</span><span class="p">)</span>
    <span class="mi">351</span>
<span class="o">--&gt;</span> <span class="mi">352</span>     <span class="n">ytry</span><span class="o">=</span><span class="n">func</span><span class="p">(</span><span class="n">ptry</span><span class="p">,</span><span class="o">**</span><span class="n">funcargs</span><span class="p">)</span>
    <span class="mi">353</span>
    <span class="mi">354</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_eval</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_chisq2</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">savemodel</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
    <span class="mi">623</span>         <span class="k">return</span> <span class="o">+</span><span class="n">np</span><span class="o">.</span><span class="n">inf</span>
    <span class="mi">624</span>
<span class="o">--&gt;</span> <span class="mi">625</span>     <span class="n">lnl</span><span class="p">,</span><span class="n">blobs</span><span class="o">=</span><span class="n">model_lnlike2</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span><span class="n">fit_dct</span><span class="p">,</span><span class="n">inp_dct</span><span class="p">,</span><span class="n">dat_dct</span><span class="p">,</span><span class="n">savemodel</span><span class="o">=</span><span class="n">savemodel</span><span class="p">)</span>
    <span class="mi">626</span>
    <span class="mi">627</span>     <span class="k">if</span>  <span class="n">verbose</span><span class="o">==</span><span class="kc">True</span><span class="p">:</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_eval</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_lnlike2</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="n">fit_dct</span><span class="p">,</span> <span class="n">inp_dct</span><span class="p">,</span> <span class="n">dat_dct</span><span class="p">,</span> <span class="n">savemodel</span><span class="p">,</span> <span class="n">decomp</span><span class="p">,</span> <span class="n">nsamps</span><span class="p">,</span> <span class="n">returnwdev</span><span class="p">,</span> <span class="n">verbose</span><span class="p">,</span> <span class="n">test_threading</span><span class="p">)</span>
    <span class="mi">148</span>                                      <span class="n">dat_dct</span><span class="p">[</span><span class="n">tag</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s1">&#39;imodel@&#39;</span><span class="p">,</span><span class="s1">&#39;weight@&#39;</span><span class="p">)],</span>
    <span class="mi">149</span>                                      <span class="n">average</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="o">--&gt;</span> <span class="mi">150</span>                                      <span class="n">verbose</span><span class="o">=</span><span class="n">verbose</span><span class="p">)</span>
    <span class="mi">151</span>                 <span class="c1">#print(chi2)</span>
    <span class="mi">152</span>                 <span class="n">blobs</span><span class="p">[</span><span class="s1">&#39;chisq&#39;</span><span class="p">]</span><span class="o">+=</span><span class="n">chi2</span>


<span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">gmake</span><span class="o">/</span><span class="n">model_func</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">model_uvchi2</span><span class="p">(</span><span class="n">xymod3d</span><span class="p">,</span> <span class="n">xyheader</span><span class="p">,</span> <span class="n">uvdata</span><span class="p">,</span> <span class="n">uvw</span><span class="p">,</span> <span class="n">phasecenter</span><span class="p">,</span> <span class="n">uvweight</span><span class="p">,</span> <span class="n">average</span><span class="p">,</span> <span class="n">verbose</span><span class="p">)</span>
   <span class="mi">1172</span>                                                         <span class="n">dRA</span><span class="o">=</span><span class="n">dRA</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span><span class="n">dDec</span><span class="o">=</span><span class="n">dDec</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
   <span class="mi">1173</span>                                                         <span class="n">PA</span><span class="o">=</span><span class="mf">0.</span><span class="p">,</span><span class="n">check</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">),</span>
<span class="o">-&gt;</span> <span class="mi">1174</span>                                              <span class="s1">&#39;b&#39;</span><span class="p">:</span><span class="n">uvdata</span><span class="p">[:,</span><span class="n">i</span><span class="p">]})</span>
   <span class="mi">1175</span>                 <span class="n">chi2</span><span class="o">+=</span><span class="n">ne</span><span class="o">.</span><span class="n">evaluate</span><span class="p">(</span><span class="s1">&#39;sum( ( (a.real)**2+(a.imag)**2 ) *c)&#39;</span><span class="p">,</span>
   <span class="mi">1176</span>                                  <span class="n">local_dict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span><span class="n">delta_uv</span><span class="p">,</span>


<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">numexpr</span><span class="o">/</span><span class="n">necompiler</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">evaluate</span><span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="n">local_dict</span><span class="p">,</span> <span class="n">global_dict</span><span class="p">,</span> <span class="n">out</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">casting</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="mi">811</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;must specify expression as a string&quot;</span><span class="p">)</span>
    <span class="mi">812</span>     <span class="c1"># Get the names for this expression</span>
<span class="o">--&gt;</span> <span class="mi">813</span>     <span class="n">context</span> <span class="o">=</span> <span class="n">getContext</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">frame_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="mi">814</span>     <span class="n">expr_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">ex</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">context</span><span class="o">.</span><span class="n">items</span><span class="p">())))</span>
    <span class="mi">815</span>     <span class="k">if</span> <span class="n">expr_key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_names_cache</span><span class="p">:</span>


<span class="o">~/</span><span class="n">Library</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="mf">3.7</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">numexpr</span><span class="o">/</span><span class="n">necompiler</span><span class="o">.</span><span class="n">py</span> <span class="ow">in</span> <span class="n">getContext</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">frame_depth</span><span class="p">)</span>
    <span class="mi">539</span>         <span class="n">value</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
    <span class="mi">540</span>         <span class="k">if</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">allowed</span><span class="p">:</span>
<span class="o">--&gt;</span> <span class="mi">541</span>             <span class="n">context</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>
    <span class="mi">542</span>         <span class="k">else</span><span class="p">:</span>
    <span class="mi">543</span>             <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">%s</span><span class="s2">&#39; must be one of </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">allowed</span><span class="p">))</span>


<span class="ne">KeyboardInterrupt</span><span class="p">:</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#from hickle import SerializedWarning</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#%matplotlib notebook</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">fit_analyze</span><span class="p">(</span><span class="n">inpfile</span><span class="p">,</span><span class="n">export</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1">#print(fit_dct[&#39;p_scale&#39;])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">fit</span><span class="o">.</span><span class="n">h5</span>
<span class="n">Check</span> <span class="n">optimized</span> <span class="n">parameters</span><span class="p">:</span>
 <span class="mi">0</span>   <span class="n">vsys</span><span class="nd">@basics</span>       <span class="o">=</span>    <span class="mf">117.50</span>      <span class="o">&lt;-</span>    <span class="mf">117.50</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">220.00</span>     <span class="p">)</span>
 <span class="mi">1</span>   <span class="n">disk_sd</span><span class="nd">@diskdyn</span>   <span class="o">=</span>    <span class="mf">3000.00</span>     <span class="o">&lt;-</span>    <span class="mf">3000.00</span>     <span class="p">(</span>    <span class="mf">100.00</span>    <span class="p">,</span>    <span class="mf">50000.00</span>    <span class="p">)</span>
 <span class="mi">2</span>   <span class="n">disk_rs</span><span class="nd">@diskdyn</span>   <span class="o">=</span>     <span class="mf">5.00</span>       <span class="o">&lt;-</span>     <span class="mf">5.00</span>       <span class="p">(</span>     <span class="mf">0.20</span>     <span class="p">,</span>      <span class="mf">30.00</span>     <span class="p">)</span>
 <span class="mi">3</span>   <span class="n">vdis</span><span class="nd">@basics</span>       <span class="o">=</span>     <span class="mf">50.00</span>      <span class="o">&lt;-</span>     <span class="mf">50.00</span>      <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>
 <span class="mi">4</span>   <span class="n">pa</span><span class="nd">@basics</span>         <span class="o">=</span>    <span class="o">-</span><span class="mf">52.40</span>      <span class="o">&lt;-</span>    <span class="o">-</span><span class="mf">52.40</span>      <span class="p">(</span>    <span class="o">-</span><span class="mf">132.40</span>   <span class="p">,</span>      <span class="mf">27.60</span>     <span class="p">)</span>
 <span class="mi">5</span>   <span class="n">inc</span><span class="nd">@basics</span>        <span class="o">=</span>     <span class="mf">44.06</span>      <span class="o">&lt;-</span>     <span class="mf">44.06</span>      <span class="p">(</span>     <span class="mf">5.00</span>     <span class="p">,</span>      <span class="mf">85.00</span>     <span class="p">)</span>
 <span class="mi">6</span>   <span class="n">xypos</span><span class="o">.</span><span class="n">ra</span><span class="nd">@basics</span>   <span class="o">=</span>  <span class="mf">356.5393258</span>   <span class="o">&lt;-</span>  <span class="mf">356.5393258</span>   <span class="p">(</span>  <span class="mf">356.5390481</span> <span class="p">,</span>   <span class="mf">356.5396036</span>  <span class="p">)</span>
 <span class="mi">7</span>   <span class="n">xypos</span><span class="o">.</span><span class="n">dec</span><span class="nd">@basics</span>  <span class="o">=</span>  <span class="mf">12.8220182</span>    <span class="o">&lt;-</span>  <span class="mf">12.8220182</span>    <span class="p">(</span>  <span class="mf">12.8217404</span>  <span class="p">,</span>   <span class="mf">12.8222960</span>   <span class="p">)</span>
 <span class="mi">8</span>   <span class="n">lineflux</span><span class="nd">@co76</span>     <span class="o">=</span>     <span class="mf">1.30</span>       <span class="o">&lt;-</span>     <span class="mf">1.30</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>
 <span class="mi">9</span>   <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@co76</span>     <span class="o">=</span>     <span class="mf">0.22</span>       <span class="o">&lt;-</span>     <span class="mf">0.22</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">2.00</span>      <span class="p">)</span>
 <span class="mi">10</span>  <span class="n">lineflux</span><span class="nd">@ci21</span>     <span class="o">=</span>     <span class="mf">0.65</span>       <span class="o">&lt;-</span>     <span class="mf">0.65</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>
 <span class="mi">11</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@ci21</span>     <span class="o">=</span>     <span class="mf">0.19</span>       <span class="o">&lt;-</span>     <span class="mf">0.19</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">2.00</span>      <span class="p">)</span>
 <span class="mi">12</span>  <span class="n">lineflux</span><span class="nd">@h2o</span>      <span class="o">=</span>     <span class="mf">0.32</span>       <span class="o">&lt;-</span>     <span class="mf">0.32</span>       <span class="p">(</span>     <span class="mf">0.10</span>     <span class="p">,</span>     <span class="mf">200.00</span>     <span class="p">)</span>
 <span class="mi">13</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@h2o</span>      <span class="o">=</span>     <span class="mf">0.17</span>       <span class="o">&lt;-</span>     <span class="mf">0.17</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">2.00</span>      <span class="p">)</span>
 <span class="mi">14</span>  <span class="n">contflux</span><span class="nd">@cont</span>     <span class="o">=</span>     <span class="mf">0.00</span>       <span class="o">&lt;-</span>     <span class="mf">0.00</span>       <span class="p">(</span>     <span class="mf">0.00</span>     <span class="p">,</span>      <span class="mf">0.01</span>      <span class="p">)</span>
 <span class="mi">15</span>  <span class="n">sbser</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="nd">@cont</span>     <span class="o">=</span>     <span class="mf">0.12</span>       <span class="o">&lt;-</span>     <span class="mf">0.12</span>       <span class="p">(</span>     <span class="mf">0.01</span>     <span class="p">,</span>      <span class="mf">2.00</span>      <span class="p">)</span>
 <span class="mi">16</span>  <span class="n">alpha</span><span class="nd">@cont</span>        <span class="o">=</span>     <span class="mf">3.72</span>       <span class="o">&lt;-</span>     <span class="mf">3.72</span>       <span class="p">(</span>     <span class="mf">3.00</span>     <span class="p">,</span>      <span class="mf">4.50</span>      <span class="p">)</span>
<span class="n">analyzing</span> <span class="n">outfolder</span><span class="p">:</span><span class="n">bx610_b6c3_uv_ab</span>
<span class="n">plotting</span><span class="o">...</span><span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">iteration</span><span class="o">.</span><span class="n">pdf</span>
<span class="n">read</span> <span class="n">data</span> <span class="p">(</span><span class="n">may</span> <span class="n">take</span> <span class="n">some</span> <span class="n">time</span><span class="o">..</span><span class="p">)</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>                <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">238</span><span class="p">)</span>         <span class="mi">102</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>                 <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>              <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">25.42425919</span> <span class="mf">120.59348969</span> <span class="mf">161.43834686</span> <span class="mf">222.05312988</span> <span class="mf">274.09368896</span><span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">250752859438.0543</span> <span class="n">Hz</span> <span class="mf">252604264234.0391</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">7811834.5822</span> <span class="n">Hz</span> <span class="mf">7811834.5822</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>         <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>                <span class="n">complex64</span>       <span class="p">(</span><span class="mi">53466</span><span class="p">,</span> <span class="mi">238</span><span class="p">)</span>          <span class="mi">97</span> <span class="n">MiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>                 <span class="n">float32</span>         <span class="p">(</span><span class="mi">53466</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">627</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>              <span class="n">float32</span>         <span class="p">(</span><span class="mi">53466</span><span class="p">,)</span>             <span class="mi">209</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">28.95802307</span> <span class="mf">136.6611145</span>  <span class="mf">187.34054565</span> <span class="mf">248.30665283</span> <span class="mf">289.60601807</span><span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>            <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="mf">233254349973.6942</span> <span class="n">Hz</span> <span class="mf">235105754769.6790</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>           <span class="p">(</span><span class="mi">238</span><span class="p">,)</span>     <span class="o">-</span><span class="mf">7811834.5822</span> <span class="n">Hz</span> <span class="o">-</span><span class="mf">7811834.5822</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>         <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>            <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>           <span class="mi">440</span> <span class="n">KiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>             <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>          <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">5420.21582031</span> <span class="mf">26262.67539063</span> <span class="mf">35061.7265625</span>  <span class="mf">47476.43703125</span>
 <span class="mf">59263.3984375</span> <span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>        <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">250073373567.0543</span> <span class="n">Hz</span> <span class="mf">250073373567.0543</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>       <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">1859216630.5597</span> <span class="n">Hz</span> <span class="mf">1859216630.5597</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>     <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>

<span class="n">Read</span><span class="p">:</span> <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>            <span class="n">complex64</span>       <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>           <span class="mi">440</span> <span class="n">KiB</span>
<span class="n">uvw</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>             <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>           <span class="mi">661</span> <span class="n">KiB</span>
<span class="n">weight</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>          <span class="n">float32</span>         <span class="p">(</span><span class="mi">56354</span><span class="p">,)</span>             <span class="mi">220</span> <span class="n">KiB</span>
  <span class="o">&gt;&gt;</span><span class="n">percentiles</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span><span class="mi">50</span><span class="p">,</span><span class="mi">84</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span><span class="o">%</span><span class="p">:</span> <span class="p">[</span> <span class="mf">7370.546875</span>   <span class="mf">35357.1671875</span>  <span class="mf">48239.16992188</span> <span class="mf">64150.5290625</span>
 <span class="mf">75806.0703125</span> <span class="p">]</span>
<span class="n">chanfreq</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>        <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="mf">235879907576.7765</span> <span class="n">Hz</span> <span class="mf">235879907576.7765</span> <span class="n">Hz</span>
<span class="n">chanwidth</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>       <span class="p">(</span><span class="mi">1</span><span class="p">,)</span>       <span class="o">-</span><span class="mf">1859216630.5670</span> <span class="n">Hz</span> <span class="o">-</span><span class="mf">1859216630.5670</span> <span class="n">Hz</span>
<span class="n">phasecenter</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>     <span class="mi">23</span><span class="n">h46m09</span><span class="o">.</span><span class="mi">44</span><span class="n">s</span>  <span class="mi">12</span><span class="n">d49m19</span><span class="o">.</span><span class="mi">3</span><span class="n">s</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="o">---</span> <span class="n">dat_dct</span> <span class="n">size</span> <span class="mf">203.68</span> <span class="n">Mibyte</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">took</span> <span class="mf">2.25172</span>  <span class="n">seconds</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">data</span><span class="o">.</span><span class="n">h5</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="mf">34423407.26352863</span> <span class="mi">13412252</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="mf">32120841.42345846</span> <span class="mi">12724908</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">160325.06165286465</span> <span class="mi">56354</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">148848.5579627467</span> <span class="mi">56354</span>
<span class="n">export</span> <span class="n">the</span> <span class="n">model</span> <span class="nb">set</span><span class="p">:</span>              <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span>              <span class="p">(</span><span class="n">may</span> <span class="n">take</span> <span class="n">some</span> <span class="n">time</span><span class="o">..</span><span class="p">)</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod2d_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod3d_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">pbeam_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@co76</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imodrp_co76_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@ci21</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imodrp_ci21_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">data_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod2d_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod3d_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">pbeam_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@h2o</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imodrp_h2o_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">data_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod2d_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod3d_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">pbeam_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">data_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod2d_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">imod3d_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">pbeam_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">data_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="o">---</span> <span class="n">took</span> <span class="mf">6.74652</span>  <span class="n">seconds</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">h5</span>
<span class="n">save</span> <span class="n">the</span> <span class="n">model</span> <span class="nb">input</span> <span class="n">parameter</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_0</span><span class="o">/</span><span class="n">model</span><span class="o">.</span><span class="n">inp</span>
<span class="n">model_0</span><span class="p">:</span>
<span class="p">{</span><span class="s1">&#39;chisq&#39;</span><span class="p">:</span> <span class="mf">66853422.306602694</span><span class="p">,</span>
 <span class="s1">&#39;lnprob&#39;</span><span class="p">:</span> <span class="mf">10223119.024962375</span><span class="p">,</span>
 <span class="s1">&#39;ndata&#39;</span><span class="p">:</span> <span class="mf">26249868.0</span><span class="p">,</span>
 <span class="s1">&#39;npar&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">}</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="mf">34423512.11909051</span> <span class="mi">13412252</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="mf">32120841.556975596</span> <span class="mi">12724908</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">160325.06165286465</span> <span class="mi">56354</span>
<span class="n">data</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="mf">148848.5579627467</span> <span class="mi">56354</span>
<span class="n">export</span> <span class="n">the</span> <span class="n">model</span> <span class="nb">set</span><span class="p">:</span>              <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span>              <span class="p">(</span><span class="n">may</span> <span class="n">take</span> <span class="n">some</span> <span class="n">time</span><span class="o">..</span><span class="p">)</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod2d_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod3d_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">pbeam_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@co76</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imodrp_co76_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@ci21</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imodrp_ci21_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">data_b6c3_bb2</span><span class="o">.</span><span class="n">ms</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod2d_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod3d_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">pbeam_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">profile</span><span class="p">:</span>
    <span class="n">imod3d_prof</span><span class="nd">@h2o</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imodrp_h2o_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">data_b6c3_bb3</span><span class="o">.</span><span class="n">ms</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod2d_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod3d_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">pbeam_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">data_b6c3_bb1</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="o">--&gt;</span><span class="n">data_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>

<span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod2d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod2d_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">imod3d</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">imod3d_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">reference</span> <span class="n">model</span> <span class="n">image</span><span class="p">:</span>
    <span class="n">pbeam</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">pbeam_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">fits</span>
<span class="n">copy</span> <span class="n">ms</span> <span class="n">container</span><span class="p">:</span>
    <span class="o">../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">write</span> <span class="n">ms</span> <span class="n">column</span><span class="p">:</span>
    <span class="n">uvmodel</span><span class="o">@../</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span> <span class="n">to</span> <span class="n">data</span><span class="nd">@bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="n">create</span> <span class="n">symlink</span><span class="p">:</span>
    <span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">Rui</span><span class="o">/</span><span class="n">Documents</span><span class="o">/</span><span class="n">Workspace</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">GMaKE</span><span class="o">/</span><span class="n">examples</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">bx610</span><span class="o">/</span><span class="n">alma</span><span class="o">/</span><span class="mf">2015.1</span><span class="o">.</span><span class="mf">00250.</span><span class="n">S</span><span class="o">/</span><span class="n">bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>  <span class="n">to</span>  <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">data_b6c3_bb4</span><span class="o">.</span><span class="n">ms</span><span class="o">.</span><span class="n">mfs</span>
<span class="o">--------------------------------------------------------------------------------</span>
<span class="o">---</span> <span class="n">took</span> <span class="mf">8.97731</span>  <span class="n">seconds</span> <span class="o">---</span>
<span class="o">---</span> <span class="n">save</span> <span class="n">to</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">models</span><span class="o">.</span><span class="n">h5</span>
<span class="n">save</span> <span class="n">the</span> <span class="n">model</span> <span class="nb">input</span> <span class="n">parameter</span><span class="p">:</span> <span class="n">bx610_b6c3_uv_ab</span><span class="o">/</span><span class="n">model_1</span><span class="o">/</span><span class="n">model</span><span class="o">.</span><span class="n">inp</span>
<span class="n">model_1</span><span class="p">:</span>
<span class="p">{</span><span class="s1">&#39;chisq&#39;</span><span class="p">:</span> <span class="mf">66853527.295681715</span><span class="p">,</span>
 <span class="s1">&#39;lnprob&#39;</span><span class="p">:</span> <span class="mf">10223066.530422866</span><span class="p">,</span>
 <span class="s1">&#39;ndata&#39;</span><span class="p">:</span> <span class="mf">26249868.0</span><span class="p">,</span>
 <span class="s1">&#39;npar&#39;</span><span class="p">:</span> <span class="mi">17</span><span class="p">}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Figure</span> <span class="n">size</span> <span class="mi">432</span><span class="n">x288</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">Axes</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">models</span><span class="o">=</span><span class="n">gmake</span><span class="o">.</span><span class="n">hdf2dct</span><span class="p">(</span><span class="n">inp_dct</span><span class="p">[</span><span class="s1">&#39;general&#39;</span><span class="p">][</span><span class="s1">&#39;outdir&#39;</span><span class="p">]</span><span class="o">+</span><span class="s1">&#39;/model_1/models.h5&#39;</span><span class="p">)</span>
<span class="c1">#gmake.pprint(models[&#39;mod_dct&#39;][&#39;co76&#39;])</span>
<span class="n">gmake</span><span class="o">.</span><span class="n">model_vrot_plot</span><span class="p">(</span><span class="n">models</span><span class="p">[</span><span class="s1">&#39;mod_dct&#39;</span><span class="p">][</span><span class="s1">&#39;co76&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">Figure</span> <span class="n">size</span> <span class="mi">432</span><span class="n">x288</span> <span class="k">with</span> <span class="mi">0</span> <span class="n">Axes</span><span class="o">&gt;</span>
</pre></div>
</div>
<img alt="../_images/demo_bx610_b6c3_uv_ab_7_1.png" src="../_images/demo_bx610_b6c3_uv_ab_7_1.png" />
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="demo_bx610_model_1dspec.html" class="btn btn-neutral float-right" title="Invert Visibility + Plot 1D spectra (may take a while)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demo_bx610_b4c5_uv_ab.html" class="btn btn-neutral float-left" title="Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 5 DataSet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Rui Xue

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>