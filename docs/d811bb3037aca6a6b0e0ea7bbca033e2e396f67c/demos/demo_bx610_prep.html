

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Example: BX610 (High-z SFG) &mdash; GMaKE 0.2.dev1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Example BX610: perform model fitting using method=‘amoeba’" href="demo_bx610_amoeba.html" />
    <link rel="prev" title="Example HXMM01: test the MS-simulation modules" href="demo_hxmm01_simulate.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> GMaKE
          

          
          </a>

          
            
            
              <div class="version">
                0.2.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../par_def.html">Input File Format</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="demo_hxmm01_prep.html">Example: HXMM01 (High-z Merger)</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_hxmm01_simulate.html">Example HXMM01: test the MS-simulation modules</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Example: BX610 (High-z SFG)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#prepare-visibiity-data-from-the-calibrated-ms-restored-by-the-local-alma-pipeline">Prepare visibiity data from the calibrated MS restored by the local ALMA pipeline</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-some-essential-python-modules-casa-6-tasks-tools">Load some essential Python modules + CASA 6 tasks/tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="#import-some-convinient-functions-from-rxutils">Import some convinient functions from <code class="docutils literal notranslate"><span class="pre">rxutils</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#s-band-4-cycle-2-aravena-m">2013.1.00059.S (Band 4, Cycle-2, Aravena M.)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#spws-setup">Spws Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#export-one-ms-per-baseband">Export one MS per baseband</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ms-manupilation">MS manupilation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#s-band-6-cycle-3-aravena-m">2015.1.00250.S (Band 6, Cycle-3, Aravena M.)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">Spws Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#s-band-4-cycle-5-brisbin-l">2017.1.01045.S (Band 4, Cycle-5, Brisbin, L.)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id30">Spws Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id31">Export one MS per baseband</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id32">MS manupilation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_amoeba.html">Example BX610: perform model fitting using method=‘amoeba’</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo_bx610_emcee.html">Example BX610: perform model fitting using method=‘emcee’</a></li>
</ul>
<p class="caption"><span class="caption-text">Tests</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tests/test_uvsample_performance.html">Test the performance of the Image-to-MS-related modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">GMaKE</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Example: BX610 (High-z SFG)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="example-bx610-high-z-sfg">
<h1>Example: BX610 (High-z SFG)<a class="headerlink" href="#example-bx610-high-z-sfg" title="Permalink to this headline">¶</a></h1>
<div class="section" id="prepare-visibiity-data-from-the-calibrated-ms-restored-by-the-local-alma-pipeline">
<h2>Prepare visibiity data from the calibrated MS restored by the local ALMA pipeline<a class="headerlink" href="#prepare-visibiity-data-from-the-calibrated-ms-restored-by-the-local-alma-pipeline" title="Permalink to this headline">¶</a></h2>
<div class="section" id="load-some-essential-python-modules-casa-6-tasks-tools">
<h3>Load some essential Python modules + CASA 6 tasks/tools<a class="headerlink" href="#load-some-essential-python-modules-casa-6-tasks-tools" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>import sys,os,glob,io,socket
import logging
from pprint import pprint
import numpy as np

import casatasks as ctasks
import casatools as ctools

# Import wurlitzer for display real-time console logs
#   https://github.com/minrk/wurlitzer
%reload_ext wurlitzer

# for inline plots
%matplotlib inline
%config InlineBackend.figure_format = &quot;retina&quot;
</pre></div>
</div>
<p>Using the beta-version of CASA 6</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>print(&#39;casatools ver:&#39;,ctools.version_string())
print(&#39;casatasks ver:&#39;,ctasks.version_string())
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">casatools</span> <span class="n">ver</span><span class="p">:</span> <span class="mf">2019.172</span>
<span class="n">casatasks</span> <span class="n">ver</span><span class="p">:</span> <span class="mf">2019.166</span>
</pre></div>
</div>
</div>
<div class="section" id="import-some-convinient-functions-from-rxutils">
<h3>Import some convinient functions from <code class="docutils literal notranslate"><span class="pre">rxutils</span></code><a class="headerlink" href="#import-some-convinient-functions-from-rxutils" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from rxutils.casa.proc import rmPointing        # help remove POINTING tables hidden under
from rxutils.casa.proc import setLogfile        # help reset the casa 6 log file
from rxutils.casa.proc import checkchflag       # help check channel-wise flagging stats
from rxutils.casa.proc import getcommonfreqs    # obatin the frequency coverage of one SPW in a specified frame (e.g. TOPO-LSRK)
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-band-4-cycle-2-aravena-m">
<h2>2013.1.00059.S (Band 4, Cycle-2, Aravena M.)<a class="headerlink" href="#s-band-4-cycle-2-aravena-m" title="Permalink to this headline">¶</a></h2>
<div class="section" id="spws-setup">
<h3>Spws Setup<a class="headerlink" href="#spws-setup" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>spw=0 BB1 153GHz CI 1-0</p></li>
<li><p>spw=1 BB2 155GHz Continuum</p></li>
<li><p>spw=2 BB3 143GHz CO 4-3</p></li>
<li><p>spw=3 BB4 141GHz Continuum</p></li>
</ul>
<p>Beam: 0.35“x0.30”</p>
</div>
<div class="section" id="export-one-ms-per-baseband">
<h3>Export one MS per baseband<a class="headerlink" href="#export-one-ms-per-baseband" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Combine the SPWs from each baseband into a single SPW</p></li>
<li><p>Transform the frame from TOPO to LSRK</p></li>
<li><p>Exclude the edge channels</p></li>
</ul>
<p>Note: GMaKE requires the input MS contains only one SPW and one FIELD.</p>
</div>
<div class="section" id="ms-manupilation">
<h3>MS manupilation<a class="headerlink" href="#ms-manupilation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The integration time is rebined to 60s (limited by the time-averging
smearing)</p></li>
<li><p>The continuum SPW is averged into 1 representive channel (limited by
the bandwidth smearing)</p></li>
<li><p>The point tables were removed<a class="reference external" href="#fn1">1</a>: they are only used for
mosaic imaging, not in this specific case; for ALMA data, the table
can be quite large even for channle-/time-averaged data)</p></li>
</ul>
<p>1 We can’t remove ms/POINTING table using <code class="docutils literal notranslate"><span class="pre">rmtables()</span></code> as its abence
will crash certain CASA tasks/tools (e.g. listable); instead, we set it
to have empty row, as it’s done in <code class="docutils literal notranslate"><span class="pre">rmPointing()</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Switch working directory

demo_dir=&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/data/bx610/alma/2013.1.00059.S/&#39;
if  &#39;hypersion&#39; or &#39;mini&#39; in socket.gethostname() :
    os.chdir(demo_dir)
setLogfile(demo_dir+&#39;/&#39;+&#39;demo_bx610.log&#39;)

vis_name=&#39;/Volumes/D1/projects/hzdyn/2013.1.00059.S/science_goal.uid___A001_X12b_X239/group.uid___A001_X12b_X23a/member.uid___A001_X12b_X23b/calibrated/uid___A001_X12b_X23c_target.ms&#39;
#ctasks.listobs(vis_name)


spw_list=[&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;]
bb_list=[&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;]
field=&#39;BX610&#39;

# For BB1 &amp; BB2 &amp; BB3 &amp; BB4: TOPO-&gt;LSKR

&quot;&quot;&quot;
for i in range(0,4):
    outvis=&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;
    os.system(&#39;rm -rf &#39;+outvis)
    ctasks.mstransform(vis_name,outputvis=outvis,field=&#39;BX610&#39;,spw=spw_list[i],datacolumn=&#39;data&#39;,
                        regridms=True,outframe=&#39;lsrk&#39;,combinespws=True,mode=&#39;channel&#39;,start=1,nchan=478,width=1,
                        timeaverage=True,timebin=&#39;60s&#39;,maxuvwdistance=0.0,
                        keepflags=False,usewtspectrum=False)
    rmPointing(outvis)

&quot;&quot;&quot;

# For BB2/BB4: Channel-averging

for i in range(0,4):
    if  bb_list[i]==&#39;1&#39; or bb_list[i]==&#39;3&#39;:
        continue
    outvis=&#39;bb&#39;+bb_list[i]+&#39;.mfs.ms&#39;
    os.system(&#39;rm -rf &#39;+outvis)
    ctasks.mstransform(&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;,outputvis=outvis,field=&#39;BX610&#39;,datacolumn=&#39;data&#39;,
                        chanaverage=True,chanbin=478,
                        timeaverage=False,
                        keepflags=False,usewtspectrum=False)
    rmPointing(outvis)
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### Begin Task: mstransform        #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">mstransform</span><span class="p">(</span> <span class="n">vis</span><span class="o">=</span><span class="s1">&#39;bb2.ms&#39;</span><span class="p">,</span> <span class="n">outputvis</span><span class="o">=</span><span class="s1">&#39;bb2.mfs.ms&#39;</span><span class="p">,</span> <span class="n">createmms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separationaxis</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">numsubms</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">tileshape</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;BX610&#39;</span><span class="p">,</span> <span class="n">spw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">antenna</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">correlation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timerange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">intent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">uvrange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">observation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">feed</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">datacolumn</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">realmodelcol</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keepflags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usewtspectrum</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">combinespws</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">chanaverage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chanbin</span><span class="o">=</span><span class="mi">478</span><span class="p">,</span> <span class="n">hanning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">regridms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;channel&#39;</span><span class="p">,</span> <span class="n">nchan</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nspw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">phasecenter</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">restfreq</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">outframe</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">veltype</span><span class="o">=</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="n">preaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timebin</span><span class="o">=</span><span class="s1">&#39;0s&#39;</span><span class="p">,</span> <span class="n">timespan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">maxuvwdistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">docallib</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">callib</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">douvcontsub</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fitspw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">fitorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">want_cont</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">denoising_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">niter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">disableparallel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddistart</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">taql</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">monolithic_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Parse</span> <span class="n">channel</span> <span class="n">averaging</span> <span class="n">parameters</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Input</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Data</span> <span class="n">column</span> <span class="ow">is</span> <span class="n">DATA</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Output</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Re</span><span class="o">-</span><span class="n">index</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Tile</span> <span class="n">shape</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">field</span> <span class="n">selection</span> <span class="ow">is</span> <span class="n">BX610</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="n">average</span> <span class="ow">is</span> <span class="n">activated</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="nb">bin</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">478</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">colCheckInfo</span>        <span class="n">Adding</span> <span class="n">DATA</span> <span class="n">column</span> <span class="n">to</span> <span class="n">output</span> <span class="n">MS</span> <span class="kn">from</span> <span class="nn">input</span> <span class="n">DATA</span> <span class="n">column</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">Fields</span> <span class="n">Ids</span> <span class="n">are</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="nb">open</span>        <span class="n">Select</span> <span class="n">data</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">38</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">createOutputMSStructure</span>     <span class="n">Create</span> <span class="n">output</span> <span class="n">MS</span> <span class="n">structure</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">41</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Apply</span> <span class="n">the</span> <span class="n">transformations</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Result</span> <span class="n">mstransform</span><span class="p">:</span> <span class="kc">True</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Task</span> <span class="n">mstransform</span> <span class="n">complete</span><span class="o">.</span> <span class="n">Start</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">38.134344</span> <span class="n">End</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">48.863458</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### End Task: mstransform          #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">40</span><span class="n">M</span>        <span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### Begin Task: mstransform        #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">mstransform</span><span class="p">(</span> <span class="n">vis</span><span class="o">=</span><span class="s1">&#39;bb4.ms&#39;</span><span class="p">,</span> <span class="n">outputvis</span><span class="o">=</span><span class="s1">&#39;bb4.mfs.ms&#39;</span><span class="p">,</span> <span class="n">createmms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separationaxis</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">numsubms</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">tileshape</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;BX610&#39;</span><span class="p">,</span> <span class="n">spw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">antenna</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">correlation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timerange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">intent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">uvrange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">observation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">feed</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">datacolumn</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">realmodelcol</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keepflags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usewtspectrum</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">combinespws</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">chanaverage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chanbin</span><span class="o">=</span><span class="mi">478</span><span class="p">,</span> <span class="n">hanning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">regridms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;channel&#39;</span><span class="p">,</span> <span class="n">nchan</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nspw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">phasecenter</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">restfreq</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">outframe</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">veltype</span><span class="o">=</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="n">preaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timebin</span><span class="o">=</span><span class="s1">&#39;0s&#39;</span><span class="p">,</span> <span class="n">timespan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">maxuvwdistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">docallib</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">callib</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">douvcontsub</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fitspw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">fitorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">want_cont</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">denoising_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">niter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">disableparallel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddistart</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">taql</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">monolithic_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Parse</span> <span class="n">channel</span> <span class="n">averaging</span> <span class="n">parameters</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Input</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb4</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Data</span> <span class="n">column</span> <span class="ow">is</span> <span class="n">DATA</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Output</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb4</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Re</span><span class="o">-</span><span class="n">index</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Tile</span> <span class="n">shape</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">field</span> <span class="n">selection</span> <span class="ow">is</span> <span class="n">BX610</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="n">average</span> <span class="ow">is</span> <span class="n">activated</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="nb">bin</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">478</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">colCheckInfo</span>        <span class="n">Adding</span> <span class="n">DATA</span> <span class="n">column</span> <span class="n">to</span> <span class="n">output</span> <span class="n">MS</span> <span class="kn">from</span> <span class="nn">input</span> <span class="n">DATA</span> <span class="n">column</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">Fields</span> <span class="n">Ids</span> <span class="n">are</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="nb">open</span>        <span class="n">Select</span> <span class="n">data</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">49</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">createOutputMSStructure</span>     <span class="n">Create</span> <span class="n">output</span> <span class="n">MS</span> <span class="n">structure</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">52</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Apply</span> <span class="n">the</span> <span class="n">transformations</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">40</span><span class="n">M</span>        <span class="n">bb4</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">59</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Result</span> <span class="n">mstransform</span><span class="p">:</span> <span class="kc">True</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">59</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Task</span> <span class="n">mstransform</span> <span class="n">complete</span><span class="o">.</span> <span class="n">Start</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">49.137738</span> <span class="n">End</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">11</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mf">59.379531</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">59</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### End Task: mstransform          #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">14</span> <span class="mi">16</span><span class="p">:</span><span class="mi">37</span><span class="p">:</span><span class="mi">59</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-band-6-cycle-3-aravena-m">
<h2>2015.1.00250.S (Band 6, Cycle-3, Aravena M.)<a class="headerlink" href="#s-band-6-cycle-3-aravena-m" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Spws Setup<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>spw=0 BB1 250GHz Continuum</p></li>
<li><p>spw=1 BB2 252GHz CO 7-6 / CI 2-1</p></li>
<li><p>spw=2 BB3 234GHz H2O</p></li>
<li><p>spw=3 BB4 236GHz Continuum</p></li>
</ul>
<p>Beam: 0.27“x0.24”</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span># Switch working directory

demo_dir=&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/data/bx610/alma/2015.1.00250.S/&#39;
if  &#39;hypersion&#39; or &#39;mini&#39; in socket.gethostname() :
    os.chdir(demo_dir)
setLogfile(demo_dir+&#39;/&#39;+&#39;demo_bx610.log&#39;)

vis_name=&#39;/Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms&#39;
#ctasks.listobs(vis_name)


spw_list=[&#39;0&#39;,&#39;1&#39;,&#39;2&#39;,&#39;3&#39;]
bb_list=[&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;]
field=&#39;BX610&#39;

# For BB1 &amp; BB2 &amp; BB3 &amp; BB4: TOPO-&gt;LSKR


for i in range(0,4):
    outvis=&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;
    os.system(&#39;rm -rf &#39;+outvis)
    ctasks.mstransform(vis_name,outputvis=outvis,field=&#39;BX610&#39;,spw=spw_list[i],datacolumn=&#39;data&#39;,
                        regridms=True,outframe=&#39;lsrk&#39;,combinespws=True,mode=&#39;channel&#39;,start=1,nchan=238,width=1,
                        timeaverage=True,timebin=&#39;60s&#39;,maxuvwdistance=0.0,
                        keepflags=False,usewtspectrum=False)
    rmPointing(outvis)

# For BB1/BB4: Channel-averging

for i in range(0,4):
    if  bb_list[i]==&#39;2&#39; or bb_list[i]==&#39;3&#39;:
        continue
    outvis=&#39;bb&#39;+bb_list[i]+&#39;.mfs.ms&#39;
    os.system(&#39;rm -rf &#39;+outvis)
    ctasks.mstransform(&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;,outputvis=outvis,field=&#39;BX610&#39;,datacolumn=&#39;data&#39;,
                        chanaverage=True,chanbin=238,
                        timeaverage=False,
                        keepflags=False,usewtspectrum=False)
    rmPointing(outvis)
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:44:11 INFO    mstransform::::casa     ##########################################
2019-10-14 16:44:11 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:44:11 INFO    mstransform::::casa     mstransform( vis=&#39;/Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms&#39;, outputvis=&#39;bb1.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;0&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=True, chanaverage=False, chanbin=1, hanning=False, regridms=True, mode=&#39;channel&#39;, nchan=238, start=1, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;lsrk&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=True, timebin=&#39;60s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:44:11 INFO    mstransform::::casa     Combine spws 0 into new output spw
2019-10-14 16:44:11 INFO    mstransform::::casa     Parse regridding parameters
2019-10-14 16:44:11 INFO    ParallelDataHelper::::casa      Parse time averaging parameters
2019-10-14 16:44:11 INFO    MSTransformManager::parseMsSpecParams   Input file name is /Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms
2019-10-14 16:44:11 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:44:11 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb1.ms
2019-10-14 16:44:11 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:44:11 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:44:11 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:44:11 INFO    MSTransformManager::parseDataSelParams  spw selection is 0
2019-10-14 16:44:11 INFO    MSTransformManager::parseFreqTransParams        Combine Spectral Windows is activated
2019-10-14 16:44:11 INFO    MSTransformManager::parseRefFrameTransParams    Regrid MS is activated
2019-10-14 16:44:11 INFO    MSTransformManager::parseRefFrameTransParams    Output reference frame is lsrk
2019-10-14 16:44:11 INFO    MSTransformManager::parseRefFrameTransParams    Interpolation method is linear
2019-10-14 16:44:11 INFO    MSTransformManager::parseFreqSpecParams Mode is channel
2019-10-14 16:44:11 INFO    MSTransformManager::parseFreqSpecParams Number of output channels is 238
2019-10-14 16:44:11 INFO    MSTransformManager::parseFreqSpecParams Start is 1
2019-10-14 16:44:11 INFO    MSTransformManager::parseFreqSpecParams Width is 1
2019-10-14 16:44:11 INFO    MSTransformManager::parseRefFrameTransParams    Enabling channel pre-averaging
2019-10-14 16:44:11 INFO    MSTransformManager::parseTimeAvgParams  Time average is activated
2019-10-14 16:44:11 INFO    MSTransformManager::parseTimeAvgParams  Time bin is 60 seconds
2019-10-14 16:44:11 WARN    MSTransformManager::parseTimeAvgParams  Operating with ALMA data, automatically adding state to timespan
2019-10-14 16:44:11 WARN    MSTransformManager::parseTimeAvgParams+ In order to remove sub-scan boundaries which limit time average to 30s
2019-10-14 16:44:11 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:44:11 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [4]
2019-10-14 16:44:11 INFO    MSTransformManager::initDataSelectionParams     Selected SPWs Ids are Axis Lengths: [1, 4]  (NB: Matrix in Row/Column order)
2019-10-14 16:44:11 INFO    MSTransformManager::initDataSelectionParams+    [0, 0, 239, 1]
2019-10-14 16:44:11 INFO    MSTransformManager::open        Select data
2019-10-14 16:44:11 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:44:13 INFO    MSTransformDataHandler::makeSelection   515942 out of 2353400 rows are going to be considered due to the selection criteria.
2019-10-14 16:44:21 WARN    MSTransformManager::setup       There is only one selected SPW, no need to combine
2019-10-14 16:44:21 INFO    MSTransformManager::regridSpwSubTable   Regridding SPW with Id 0
2019-10-14 16:44:21 INFO    MSTransformManager::regridSpwAux        Input SPW:   240 channels, first channel = 2.491610813e+11 Hz, last channel = 2.510282688e+11 Hz, first width = 7.812500000e+06 Hz, last width = 7.812500000e+06 Hz
2019-10-14 16:44:21 INFO    MSTransformManager::regridSpwAux        Calculate frequencies in output reference frame
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs      Channels equidistant in freq
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs+     Central frequency (in output frame) = 2.50073e+11 Hz
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs+     Width of central channel (in output frame) = 7.81183e+06 Hz
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs+     Number of channels = 238
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs+     Total width of SPW (in output frame) = 1.85922e+09 Hz
2019-10-14 16:44:21 INFO    MSTransformRegridder::calcChanFreqs+     Lower edge = 2.49144e+11 Hz, upper edge = 2.51003e+11 Hz
2019-10-14 16:44:21 INFO    MSTransformManager::regridSpwAux        Output SPW:   238 channels, first channel = 2.491476712e+11 Hz, last channel = 2.509990760e+11 Hz, first width = 7.811834582e+06 Hz, last width = 7.811834582e+06 Hz
2019-10-14 16:44:21 INFO    MSTransformManager::setIterationApproach        Combining data through state for time average
2019-10-14 16:44:22 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:44:51 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:44:51 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:44:10.594830 End time: 2019-10-14 11:44:50.955703
2019-10-14 16:44:51 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:44:51 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">245</span><span class="n">M</span>        <span class="n">bb1</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:45:24 INFO    mstransform::::casa     ##########################################
2019-10-14 16:45:24 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:45:24 INFO    mstransform::::casa     mstransform( vis=&#39;/Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms&#39;, outputvis=&#39;bb2.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;1&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=True, chanaverage=False, chanbin=1, hanning=False, regridms=True, mode=&#39;channel&#39;, nchan=238, start=1, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;lsrk&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=True, timebin=&#39;60s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:45:24 INFO    mstransform::::casa     Combine spws 1 into new output spw
2019-10-14 16:45:24 INFO    mstransform::::casa     Parse regridding parameters
2019-10-14 16:45:24 INFO    ParallelDataHelper::::casa      Parse time averaging parameters
2019-10-14 16:45:24 INFO    MSTransformManager::parseMsSpecParams   Input file name is /Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms
2019-10-14 16:45:24 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:45:24 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb2.ms
2019-10-14 16:45:24 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:45:24 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:45:24 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:45:24 INFO    MSTransformManager::parseDataSelParams  spw selection is 1
2019-10-14 16:45:24 INFO    MSTransformManager::parseFreqTransParams        Combine Spectral Windows is activated
2019-10-14 16:45:24 INFO    MSTransformManager::parseRefFrameTransParams    Regrid MS is activated
2019-10-14 16:45:24 INFO    MSTransformManager::parseRefFrameTransParams    Output reference frame is lsrk
2019-10-14 16:45:24 INFO    MSTransformManager::parseRefFrameTransParams    Interpolation method is linear
2019-10-14 16:45:24 INFO    MSTransformManager::parseFreqSpecParams Mode is channel
2019-10-14 16:45:24 INFO    MSTransformManager::parseFreqSpecParams Number of output channels is 238
2019-10-14 16:45:24 INFO    MSTransformManager::parseFreqSpecParams Start is 1
2019-10-14 16:45:24 INFO    MSTransformManager::parseFreqSpecParams Width is 1
2019-10-14 16:45:24 INFO    MSTransformManager::parseRefFrameTransParams    Enabling channel pre-averaging
2019-10-14 16:45:24 INFO    MSTransformManager::parseTimeAvgParams  Time average is activated
2019-10-14 16:45:24 INFO    MSTransformManager::parseTimeAvgParams  Time bin is 60 seconds
2019-10-14 16:45:24 WARN    MSTransformManager::parseTimeAvgParams  Operating with ALMA data, automatically adding state to timespan
2019-10-14 16:45:24 WARN    MSTransformManager::parseTimeAvgParams+ In order to remove sub-scan boundaries which limit time average to 30s
2019-10-14 16:45:24 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:45:24 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [4]
2019-10-14 16:45:24 INFO    MSTransformManager::initDataSelectionParams     Selected SPWs Ids are Axis Lengths: [1, 4]  (NB: Matrix in Row/Column order)
2019-10-14 16:45:24 INFO    MSTransformManager::initDataSelectionParams+    [1, 0, 239, 1]
2019-10-14 16:45:24 INFO    MSTransformManager::open        Select data
2019-10-14 16:45:24 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:45:26 INFO    MSTransformDataHandler::makeSelection   515942 out of 2353400 rows are going to be considered due to the selection criteria.
2019-10-14 16:45:35 WARN    MSTransformManager::setup       There is only one selected SPW, no need to combine
2019-10-14 16:45:35 INFO    MSTransformManager::regridSpwSubTable   Regridding SPW with Id 1
2019-10-14 16:45:35 INFO    MSTransformManager::regridSpwAux        Input SPW:   240 channels, first channel = 2.507664063e+11 Hz, last channel = 2.526335938e+11 Hz, first width = 7.812500000e+06 Hz, last width = 7.812500000e+06 Hz
2019-10-14 16:45:35 INFO    MSTransformManager::regridSpwAux        Calculate frequencies in output reference frame
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs      Channels equidistant in freq
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs+     Central frequency (in output frame) = 2.51679e+11 Hz
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs+     Width of central channel (in output frame) = 7.81183e+06 Hz
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs+     Number of channels = 238
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs+     Total width of SPW (in output frame) = 1.85922e+09 Hz
2019-10-14 16:45:35 INFO    MSTransformRegridder::calcChanFreqs+     Lower edge = 2.50749e+11 Hz, upper edge = 2.52608e+11 Hz
2019-10-14 16:45:35 INFO    MSTransformManager::regridSpwAux        Output SPW:   238 channels, first channel = 2.507528594e+11 Hz, last channel = 2.526042642e+11 Hz, first width = 7.811834582e+06 Hz, last width = 7.811834582e+06 Hz
2019-10-14 16:45:35 INFO    MSTransformManager::setIterationApproach        Combining data through state for time average
2019-10-14 16:45:35 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:46:06 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:46:06 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:45:24.067595 End time: 2019-10-14 11:46:06.401140
2019-10-14 16:46:06 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:46:06 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">245</span><span class="n">M</span>        <span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:46:37 INFO    mstransform::::casa     ##########################################
2019-10-14 16:46:37 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:46:37 INFO    mstransform::::casa     mstransform( vis=&#39;/Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms&#39;, outputvis=&#39;bb3.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;2&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=True, chanaverage=False, chanbin=1, hanning=False, regridms=True, mode=&#39;channel&#39;, nchan=238, start=1, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;lsrk&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=True, timebin=&#39;60s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:46:38 INFO    mstransform::::casa     Combine spws 2 into new output spw
2019-10-14 16:46:38 INFO    mstransform::::casa     Parse regridding parameters
2019-10-14 16:46:38 INFO    ParallelDataHelper::::casa      Parse time averaging parameters
2019-10-14 16:46:38 INFO    MSTransformManager::parseMsSpecParams   Input file name is /Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms
2019-10-14 16:46:38 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:46:38 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb3.ms
2019-10-14 16:46:38 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:46:38 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:46:38 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:46:38 INFO    MSTransformManager::parseDataSelParams  spw selection is 2
2019-10-14 16:46:38 INFO    MSTransformManager::parseFreqTransParams        Combine Spectral Windows is activated
2019-10-14 16:46:38 INFO    MSTransformManager::parseRefFrameTransParams    Regrid MS is activated
2019-10-14 16:46:38 INFO    MSTransformManager::parseRefFrameTransParams    Output reference frame is lsrk
2019-10-14 16:46:38 INFO    MSTransformManager::parseRefFrameTransParams    Interpolation method is linear
2019-10-14 16:46:38 INFO    MSTransformManager::parseFreqSpecParams Mode is channel
2019-10-14 16:46:38 INFO    MSTransformManager::parseFreqSpecParams Number of output channels is 238
2019-10-14 16:46:38 INFO    MSTransformManager::parseFreqSpecParams Start is 1
2019-10-14 16:46:38 INFO    MSTransformManager::parseFreqSpecParams Width is 1
2019-10-14 16:46:38 INFO    MSTransformManager::parseRefFrameTransParams    Enabling channel pre-averaging
2019-10-14 16:46:38 INFO    MSTransformManager::parseTimeAvgParams  Time average is activated
2019-10-14 16:46:38 INFO    MSTransformManager::parseTimeAvgParams  Time bin is 60 seconds
2019-10-14 16:46:38 WARN    MSTransformManager::parseTimeAvgParams  Operating with ALMA data, automatically adding state to timespan
2019-10-14 16:46:38 WARN    MSTransformManager::parseTimeAvgParams+ In order to remove sub-scan boundaries which limit time average to 30s
2019-10-14 16:46:38 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:46:38 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [4]
2019-10-14 16:46:38 INFO    MSTransformManager::initDataSelectionParams     Selected SPWs Ids are Axis Lengths: [1, 4]  (NB: Matrix in Row/Column order)
2019-10-14 16:46:38 INFO    MSTransformManager::initDataSelectionParams+    [2, 0, 239, 1]
2019-10-14 16:46:38 INFO    MSTransformManager::open        Select data
2019-10-14 16:46:38 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:46:40 INFO    MSTransformDataHandler::makeSelection   489423 out of 2353400 rows are going to be considered due to the selection criteria.
2019-10-14 16:46:51 WARN    MSTransformManager::setup       There is only one selected SPW, no need to combine
2019-10-14 16:46:51 INFO    MSTransformManager::regridSpwSubTable   Regridding SPW with Id 2
2019-10-14 16:46:51 INFO    MSTransformManager::regridSpwAux        Input SPW:   240 channels, first channel = 2.351335937e+11 Hz, last channel = 2.332664062e+11 Hz, first width = -7.812500000e+06 Hz, last width = -7.812500000e+06 Hz
2019-10-14 16:46:51 INFO    MSTransformManager::regridSpwAux        Calculate frequencies in output reference frame
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs      *** Encountered negative channel widths in input spectral window.
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs      Channels equidistant in freq
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Central frequency (in output frame) = 2.3418e+11 Hz
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Channel central frequency is decreasing with increasing channel number.
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Width of central channel (in output frame) = 7.81183e+06 Hz
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Number of channels = 238
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Total width of SPW (in output frame) = 1.85922e+09 Hz
2019-10-14 16:46:51 INFO    MSTransformRegridder::calcChanFreqs+     Lower edge = 2.3325e+11 Hz, upper edge = 2.3511e+11 Hz
2019-10-14 16:46:51 INFO    MSTransformManager::regridSpwAux        Output SPW:   238 channels, first channel = 2.351057548e+11 Hz, last channel = 2.332543500e+11 Hz, first width = 7.811834582e+06 Hz, last width = 7.811834582e+06 Hz
2019-10-14 16:46:51 INFO    MSTransformManager::setIterationApproach        Combining data through state for time average
2019-10-14 16:46:52 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:47:51 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:47:51 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:46:37.220774 End time: 2019-10-14 11:47:51.439951
2019-10-14 16:47:51 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:47:51 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">244</span><span class="n">M</span>        <span class="n">bb3</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:48:26 INFO    mstransform::::casa     ##########################################
2019-10-14 16:48:26 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:48:26 INFO    mstransform::::casa     mstransform( vis=&#39;/Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms&#39;, outputvis=&#39;bb4.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;3&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=True, chanaverage=False, chanbin=1, hanning=False, regridms=True, mode=&#39;channel&#39;, nchan=238, start=1, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;lsrk&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=True, timebin=&#39;60s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:48:26 INFO    mstransform::::casa     Combine spws 3 into new output spw
2019-10-14 16:48:26 INFO    mstransform::::casa     Parse regridding parameters
2019-10-14 16:48:26 INFO    ParallelDataHelper::::casa      Parse time averaging parameters
2019-10-14 16:48:26 INFO    MSTransformManager::parseMsSpecParams   Input file name is /Volumes/D1/projects/hzdyn/2015.1.00250.S/science_goal.uid___A001_X2fe_X20d/group.uid___A001_X2fe_X20e/member.uid___A001_X2fe_X20f/calibrated/uid___A001_X2fe_X20f_target.ms
2019-10-14 16:48:26 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:48:26 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb4.ms
2019-10-14 16:48:26 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:48:26 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:48:26 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:48:26 INFO    MSTransformManager::parseDataSelParams  spw selection is 3
2019-10-14 16:48:26 INFO    MSTransformManager::parseFreqTransParams        Combine Spectral Windows is activated
2019-10-14 16:48:26 INFO    MSTransformManager::parseRefFrameTransParams    Regrid MS is activated
2019-10-14 16:48:26 INFO    MSTransformManager::parseRefFrameTransParams    Output reference frame is lsrk
2019-10-14 16:48:26 INFO    MSTransformManager::parseRefFrameTransParams    Interpolation method is linear
2019-10-14 16:48:26 INFO    MSTransformManager::parseFreqSpecParams Mode is channel
2019-10-14 16:48:26 INFO    MSTransformManager::parseFreqSpecParams Number of output channels is 238
2019-10-14 16:48:26 INFO    MSTransformManager::parseFreqSpecParams Start is 1
2019-10-14 16:48:26 INFO    MSTransformManager::parseFreqSpecParams Width is 1
2019-10-14 16:48:26 INFO    MSTransformManager::parseRefFrameTransParams    Enabling channel pre-averaging
2019-10-14 16:48:26 INFO    MSTransformManager::parseTimeAvgParams  Time average is activated
2019-10-14 16:48:26 INFO    MSTransformManager::parseTimeAvgParams  Time bin is 60 seconds
2019-10-14 16:48:26 WARN    MSTransformManager::parseTimeAvgParams  Operating with ALMA data, automatically adding state to timespan
2019-10-14 16:48:26 WARN    MSTransformManager::parseTimeAvgParams+ In order to remove sub-scan boundaries which limit time average to 30s
2019-10-14 16:48:26 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:48:26 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [4]
2019-10-14 16:48:26 INFO    MSTransformManager::initDataSelectionParams     Selected SPWs Ids are Axis Lengths: [1, 4]  (NB: Matrix in Row/Column order)
2019-10-14 16:48:26 INFO    MSTransformManager::initDataSelectionParams+    [3, 0, 239, 1]
2019-10-14 16:48:26 INFO    MSTransformManager::open        Select data
2019-10-14 16:48:26 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:48:28 INFO    MSTransformDataHandler::makeSelection   515942 out of 2353400 rows are going to be considered due to the selection criteria.
2019-10-14 16:48:36 WARN    MSTransformManager::setup       There is only one selected SPW, no need to combine
2019-10-14 16:48:36 INFO    MSTransformManager::regridSpwSubTable   Regridding SPW with Id 3
2019-10-14 16:48:36 INFO    MSTransformManager::regridSpwAux        Input SPW:   240 channels, first channel = 2.368335937e+11 Hz, last channel = 2.349664062e+11 Hz, first width = -7.812500000e+06 Hz, last width = -7.812500000e+06 Hz
2019-10-14 16:48:36 INFO    MSTransformManager::regridSpwAux        Calculate frequencies in output reference frame
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs      *** Encountered negative channel widths in input spectral window.
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs      Channels equidistant in freq
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Central frequency (in output frame) = 2.3588e+11 Hz
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Channel central frequency is decreasing with increasing channel number.
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Width of central channel (in output frame) = 7.81183e+06 Hz
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Number of channels = 238
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Total width of SPW (in output frame) = 1.85922e+09 Hz
2019-10-14 16:48:36 INFO    MSTransformRegridder::calcChanFreqs+     Lower edge = 2.3495e+11 Hz, upper edge = 2.3681e+11 Hz
2019-10-14 16:48:36 INFO    MSTransformManager::regridSpwAux        Output SPW:   238 channels, first channel = 2.368056100e+11 Hz, last channel = 2.349542052e+11 Hz, first width = 7.811834582e+06 Hz, last width = 7.811834582e+06 Hz
2019-10-14 16:48:36 INFO    MSTransformManager::setIterationApproach        Combining data through state for time average
2019-10-14 16:48:37 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:49:10 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:49:10 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:48:25.875850 End time: 2019-10-14 11:49:09.989810
2019-10-14 16:49:10 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:49:10 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">245</span><span class="n">M</span>        <span class="n">bb4</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:49:42 INFO    mstransform::::casa     ##########################################
2019-10-14 16:49:42 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:49:42 INFO    mstransform::::casa     mstransform( vis=&#39;bb1.ms&#39;, outputvis=&#39;bb1.mfs.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=False, chanaverage=True, chanbin=238, hanning=False, regridms=False, mode=&#39;channel&#39;, nchan=-1, start=0, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=False, timebin=&#39;0s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:49:43 INFO    ParallelDataHelper::::casa      Parse channel averaging parameters
2019-10-14 16:49:43 INFO    MSTransformManager::parseMsSpecParams   Input file name is bb1.ms
2019-10-14 16:49:43 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:49:43 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb1.mfs.ms
2019-10-14 16:49:43 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:49:43 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:49:43 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:49:43 INFO    MSTransformManager::parseChanAvgParams  Channel average is activated
2019-10-14 16:49:43 INFO    MSTransformManager::parseChanAvgParams  Channel bin is [238]
2019-10-14 16:49:43 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:49:43 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [0]
2019-10-14 16:49:43 INFO    MSTransformManager::open        Select data
2019-10-14 16:49:43 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:49:46 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:49:49 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:49:49 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:49:42.476912 End time: 2019-10-14 11:49:49.491472
2019-10-14 16:49:49 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:49:49 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">32</span><span class="n">M</span>        <span class="n">bb1</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>2019-10-14 16:49:50 INFO    mstransform::::casa     ##########################################
2019-10-14 16:49:50 INFO    mstransform::::casa     ##### Begin Task: mstransform        #####
2019-10-14 16:49:50 INFO    mstransform::::casa     mstransform( vis=&#39;bb4.ms&#39;, outputvis=&#39;bb4.mfs.ms&#39;, createmms=False, separationaxis=&#39;auto&#39;, numsubms=&#39;auto&#39;, tileshape=[0], field=&#39;BX610&#39;, spw=&#39;&#39;, scan=&#39;&#39;, antenna=&#39;&#39;, correlation=&#39;&#39;, timerange=&#39;&#39;, intent=&#39;&#39;, array=&#39;&#39;, uvrange=&#39;&#39;, observation=&#39;&#39;, feed=&#39;&#39;, datacolumn=&#39;data&#39;, realmodelcol=False, keepflags=False, usewtspectrum=False, combinespws=False, chanaverage=True, chanbin=238, hanning=False, regridms=False, mode=&#39;channel&#39;, nchan=-1, start=0, width=1, nspw=1, interpolation=&#39;linear&#39;, phasecenter=&#39;&#39;, restfreq=&#39;&#39;, outframe=&#39;&#39;, veltype=&#39;radio&#39;, preaverage=False, timeaverage=False, timebin=&#39;0s&#39;, timespan=&#39;&#39;, maxuvwdistance=0.0, docallib=False, callib=&#39;&#39;, douvcontsub=False, fitspw=&#39;&#39;, fitorder=0, want_cont=False, denoising_lib=True, nthreads=1, niter=1, disableparallel=False, ddistart=-1, taql=&#39;&#39;, monolithic_processing=False, reindex=True )
2019-10-14 16:49:50 INFO    ParallelDataHelper::::casa      Parse channel averaging parameters
2019-10-14 16:49:50 INFO    MSTransformManager::parseMsSpecParams   Input file name is bb4.ms
2019-10-14 16:49:50 INFO    MSTransformManager::parseMsSpecParams   Data column is DATA
2019-10-14 16:49:50 INFO    MSTransformManager::parseMsSpecParams   Output file name is bb4.mfs.ms
2019-10-14 16:49:50 INFO    MSTransformManager::parseMsSpecParams   Re-index is enabled
2019-10-14 16:49:50 INFO    MSTransformManager::parseMsSpecParams   Tile shape is [0]
2019-10-14 16:49:50 INFO    MSTransformManager::parseDataSelParams  field selection is BX610
2019-10-14 16:49:50 INFO    MSTransformManager::parseChanAvgParams  Channel average is activated
2019-10-14 16:49:50 INFO    MSTransformManager::parseChanAvgParams  Channel bin is [238]
2019-10-14 16:49:50 INFO    MSTransformManager::colCheckInfo        Adding DATA column to output MS from input DATA column
2019-10-14 16:49:50 INFO    MSTransformManager::initDataSelectionParams     Selected Fields Ids are [0]
2019-10-14 16:49:50 INFO    MSTransformManager::open        Select data
2019-10-14 16:49:50 INFO    MSTransformManager::createOutputMSStructure     Create output MS structure
2019-10-14 16:49:54 INFO    ParallelDataHelper::::casa      Apply the transformations
2019-10-14 16:49:58 INFO    mstransform::::casa     Result mstransform: True
2019-10-14 16:49:58 INFO    mstransform::::casa     Task mstransform complete. Start time: 2019-10-14 11:49:49.903919 End time: 2019-10-14 11:49:58.338018
2019-10-14 16:49:58 INFO    mstransform::::casa     ##### End Task: mstransform          #####
2019-10-14 16:49:58 INFO    mstransform::::casa     ##########################################
sh: -c: line 0: syntax error near unexpected token `(&#39;
sh: -c: line 0: `After rmPointing()&#39;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">32</span><span class="n">M</span>        <span class="n">bb4</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="s-band-4-cycle-5-brisbin-l">
<h2>2017.1.01045.S (Band 4, Cycle-5, Brisbin, L.)<a class="headerlink" href="#s-band-4-cycle-5-brisbin-l" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id30">
<h3>Spws Setup<a class="headerlink" href="#id30" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>spw=25/0 BB=1 143GHz CO 4-3</p></li>
<li><p>spw=27/1 BB=2 141GHz Continuum</p></li>
<li><p>spw=29/2 BB=3 153GHz CI 1-0</p></li>
<li><p>spw=31/3 BB=4 155GHz Continuum</p></li>
</ul>
<p>Beam: 0.02“x0.02”</p>
</div>
<div class="section" id="id31">
<h3>Export one MS per baseband<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Combine the SPWs from each baseband into a single SPW</p></li>
<li><p>Transform the frame from TOPO to LSRK</p></li>
<li><p>Exclude the edge channels</p></li>
</ul>
<p>Note: GMaKE requires the input MS contains only one SPW and one FIELD.</p>
</div>
<div class="section" id="id32">
<h3>MS manupilation<a class="headerlink" href="#id32" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>The integration time is rebined to 60s (limited by the time-averging
smearing)</p></li>
<li><p>The continuum SPW is averged into 1 representive channel (limited by
the bandwidth smearing)</p></li>
<li><p>The point tables were removed<a class="reference external" href="#fn1">1</a>: they are only used for
mosaic imaging, not in this specific case; for ALMA data, the table
can be quite large even for channle-/time-averaged data)</p></li>
</ul>
<p>1 We can’t remove ms/POINTING table using <code class="docutils literal notranslate"><span class="pre">rmtables()</span></code> as its abence
will crash certain CASA tasks/tools (e.g. listable); instead, we set it
to have empty row, as it’s done in <code class="docutils literal notranslate"><span class="pre">rmPointing()</span></code>.</p>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>demo_dir=&#39;/Users/Rui/Dropbox/Worklib/projects/GMaKE/examples/data/bx610/alma/2017.1.01045.S/&#39;
if  &#39;hypersion&#39; or &#39;mini&#39; in socket.gethostname() :
    os.chdir(demo_dir)
setLogfile(demo_dir+&#39;/&#39;+&#39;demo_bx610.log&#39;)

repo=&#39;/Volumes/D3/alma/2017.1.01045.S/science_goal.uid___A001_X1288_X10c4/group.uid___A001_X1288_X10c5/member.uid___A001_X1288_X10c6/calibrated/working/&#39;
uid_list=[&#39;uid___A002_Xc69057_X91a&#39;,&#39;uid___A002_Xc69057_Xc5c&#39;,&#39;uid___A002_Xc69057_X1293&#39;,&#39;uid___A002_Xc6a3db_X430&#39;,&#39;uid___A002_Xc6c0d5_X57ea&#39;]
spw_list=[&#39;25&#39;,&#39;27&#39;,&#39;29&#39;,&#39;31&#39;]
bb_list=[&#39;1&#39;,&#39;2&#39;,&#39;3&#39;,&#39;4&#39;]
field=&#39;BX610&#39;

# For BB1 &amp; BB2 &amp; BB3 &amp; BB4: TOPO-&gt;LSKR

&quot;&quot;&quot;

for i in range(0,4):


    freqs,chanwidth=getcommonfreqs([repo+&#39;/&#39;+uid+&#39;.ms&#39; for uid in uid_list],
                                   [spw_list[i]]*len(uid_list),
                                   chanbin=4,frame=&#39;LSRK&#39;,edge=1)
    print(min(freqs),max(freqs),chanwidth,len(freqs))


    if  i==0:
        freq1=&#39;142633992676.3963&#39;
        freq2=479
        freq3=&#39;3906451.4650878906&#39;
    if  i==1:
        freq1=&#39;140805534867.07092&#39;
        freq2=479
        freq3=&#39;3906451.4650878906&#39;
    if  i==2:
        freq1=&#39;152676489541.2054&#39;
        freq2=479
        freq3=&#39;3906451.4653320312&#39;
    if  i==3:
        freq1=&#39;154508695285.6513&#39;
        freq2=479
        freq3=&#39;3906451.4650878906&#39;


    vis_list=[]
    for uid in uid_list:
        vis_name=repo+uid+&#39;.ms&#39;

        outvis=uid+&#39;_bb&#39;+bb_list[i]+&#39;.ms&#39;


        os.system(&#39;rm -rf &#39;+outvis)
        # use mode=&#39;freuqnecy&#39; so if the basebands from different sessions are slightly offseted in TOPO, the concat result will still contain a single LSRK spw

        ctasks.mstransform(vis_name,outputvis=outvis,field=&#39;BX610&#39;,spw=spw_list[i],datacolumn=&#39;corrected&#39;,
                            regridms=True,outframe=&#39;lsrk&#39;,combinespws=True,mode=&#39;frequency&#39;,\
                            start=str(min(freqs))+&#39;Hz&#39;,nchan=len(freqs),width=str(chanwidth)+&#39;Hz&#39;,
                            timeaverage=True,timebin=&#39;60s&#39;,maxuvwdistance=0.0,
                            keepflags=False,usewtspectrum=False,intent=&#39;OBSERVE_TARGET#ON_SOURCE&#39;)

        ctasks.mstransform(vis_name,outputvis=outvis,field=&#39;BX610&#39;,spw=spw_list[i],datacolumn=&#39;corrected&#39;,
                            regridms=True,outframe=&#39;lsrk&#39;,combinespws=True,mode=&#39;frequency&#39;,\
                            start=freq1+&#39;Hz&#39;,nchan=freq2,width=freq3+&#39;Hz&#39;,
                            timeaverage=True,timebin=&#39;60s&#39;,maxuvwdistance=0.0,
                            keepflags=False,usewtspectrum=False,intent=&#39;OBSERVE_TARGET#ON_SOURCE&#39;)

        rmPointing(outvis,verbose=True)

        vis_list+=[outvis]

    os.system(&#39;rm -rf &#39;+&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;)
    ctasks.concat(vis=vis_list,concatvis=&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;,copypointing=True)
    ctasks.listobs(&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;)
    checkchflag(&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;)
&quot;&quot;&quot;

# For BB2/BB4: Channel-averging

for i in range(0,4):
    if  bb_list[i]==&#39;1&#39; or bb_list[i]==&#39;3&#39;:
        continue
    if  bb_list[i]==&#39;1&#39; or bb_list[i]==&#39;2&#39;:
        spw=&#39;0:0~477&#39;
    else:
        spw=&#39;0:1~478&#39;
    outvis=&#39;bb&#39;+bb_list[i]+&#39;.mfs.ms&#39;
    os.system(&#39;rm -rf &#39;+outvis)
    ctasks.mstransform(&#39;bb&#39;+bb_list[i]+&#39;.ms&#39;,outputvis=outvis,field=&#39;BX610&#39;,datacolumn=&#39;data&#39;,
                        chanaverage=True,chanbin=478,spw=&#39;0:0~477&#39;,
                        timeaverage=False,
                        keepflags=False,usewtspectrum=False)
    rmPointing(outvis)


##########
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### Begin Task: mstransform        #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">mstransform</span><span class="p">(</span> <span class="n">vis</span><span class="o">=</span><span class="s1">&#39;bb2.ms&#39;</span><span class="p">,</span> <span class="n">outputvis</span><span class="o">=</span><span class="s1">&#39;bb2.mfs.ms&#39;</span><span class="p">,</span> <span class="n">createmms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separationaxis</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">numsubms</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">tileshape</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;BX610&#39;</span><span class="p">,</span> <span class="n">spw</span><span class="o">=</span><span class="s1">&#39;0:0~477&#39;</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">antenna</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">correlation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timerange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">intent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">uvrange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">observation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">feed</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">datacolumn</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">realmodelcol</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keepflags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usewtspectrum</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">combinespws</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">chanaverage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chanbin</span><span class="o">=</span><span class="mi">478</span><span class="p">,</span> <span class="n">hanning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">regridms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;channel&#39;</span><span class="p">,</span> <span class="n">nchan</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nspw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">phasecenter</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">restfreq</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">outframe</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">veltype</span><span class="o">=</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="n">preaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timebin</span><span class="o">=</span><span class="s1">&#39;0s&#39;</span><span class="p">,</span> <span class="n">timespan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">maxuvwdistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">docallib</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">callib</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">douvcontsub</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fitspw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">fitorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">want_cont</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">denoising_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">niter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">disableparallel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddistart</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">taql</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">monolithic_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Parse</span> <span class="n">channel</span> <span class="n">averaging</span> <span class="n">parameters</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Input</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb2</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Data</span> <span class="n">column</span> <span class="ow">is</span> <span class="n">DATA</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Output</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb2</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Re</span><span class="o">-</span><span class="n">index</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Tile</span> <span class="n">shape</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">field</span> <span class="n">selection</span> <span class="ow">is</span> <span class="n">BX610</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">spw</span> <span class="n">selection</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="o">~</span><span class="mi">477</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="n">average</span> <span class="ow">is</span> <span class="n">activated</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="nb">bin</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">478</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">colCheckInfo</span>        <span class="n">Adding</span> <span class="n">DATA</span> <span class="n">column</span> <span class="n">to</span> <span class="n">output</span> <span class="n">MS</span> <span class="kn">from</span> <span class="nn">input</span> <span class="n">DATA</span> <span class="n">column</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">Fields</span> <span class="n">Ids</span> <span class="n">are</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">SPWs</span> <span class="n">Ids</span> <span class="n">are</span> <span class="n">Axis</span> <span class="n">Lengths</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="p">(</span><span class="n">NB</span><span class="p">:</span> <span class="n">Matrix</span> <span class="ow">in</span> <span class="n">Row</span><span class="o">/</span><span class="n">Column</span> <span class="n">order</span><span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span><span class="o">+</span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">477</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="nb">open</span>        <span class="n">Select</span> <span class="n">data</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">39</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">createOutputMSStructure</span>     <span class="n">Create</span> <span class="n">output</span> <span class="n">MS</span> <span class="n">structure</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">43</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Apply</span> <span class="n">the</span> <span class="n">transformations</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Result</span> <span class="n">mstransform</span><span class="p">:</span> <span class="kc">True</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Task</span> <span class="n">mstransform</span> <span class="n">complete</span><span class="o">.</span> <span class="n">Start</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">22</span> <span class="mi">22</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mf">39.089640</span> <span class="n">End</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">22</span> <span class="mi">22</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mf">58.208550</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### End Task: mstransform          #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### Begin Task: mstransform        #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">mstransform</span><span class="p">(</span> <span class="n">vis</span><span class="o">=</span><span class="s1">&#39;bb4.ms&#39;</span><span class="p">,</span> <span class="n">outputvis</span><span class="o">=</span><span class="s1">&#39;bb4.mfs.ms&#39;</span><span class="p">,</span> <span class="n">createmms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">separationaxis</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">numsubms</span><span class="o">=</span><span class="s1">&#39;auto&#39;</span><span class="p">,</span> <span class="n">tileshape</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">field</span><span class="o">=</span><span class="s1">&#39;BX610&#39;</span><span class="p">,</span> <span class="n">spw</span><span class="o">=</span><span class="s1">&#39;0:0~477&#39;</span><span class="p">,</span> <span class="n">scan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">antenna</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">correlation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">timerange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">intent</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">array</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">uvrange</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">observation</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">feed</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">datacolumn</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">realmodelcol</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">keepflags</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">usewtspectrum</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">combinespws</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">chanaverage</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">chanbin</span><span class="o">=</span><span class="mi">478</span><span class="p">,</span> <span class="n">hanning</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">regridms</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;channel&#39;</span><span class="p">,</span> <span class="n">nchan</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">nspw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;linear&#39;</span><span class="p">,</span> <span class="n">phasecenter</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">restfreq</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">outframe</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">veltype</span><span class="o">=</span><span class="s1">&#39;radio&#39;</span><span class="p">,</span> <span class="n">preaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timeaverage</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">timebin</span><span class="o">=</span><span class="s1">&#39;0s&#39;</span><span class="p">,</span> <span class="n">timespan</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">maxuvwdistance</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">docallib</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">callib</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">douvcontsub</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">fitspw</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">fitorder</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">want_cont</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">denoising_lib</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">nthreads</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">niter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">disableparallel</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ddistart</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">taql</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">monolithic_processing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">reindex</span><span class="o">=</span><span class="kc">True</span> <span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Parse</span> <span class="n">channel</span> <span class="n">averaging</span> <span class="n">parameters</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Input</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb4</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Data</span> <span class="n">column</span> <span class="ow">is</span> <span class="n">DATA</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Output</span> <span class="n">file</span> <span class="n">name</span> <span class="ow">is</span> <span class="n">bb4</span><span class="o">.</span><span class="n">mfs</span><span class="o">.</span><span class="n">ms</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Re</span><span class="o">-</span><span class="n">index</span> <span class="ow">is</span> <span class="n">enabled</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseMsSpecParams</span>   <span class="n">Tile</span> <span class="n">shape</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">field</span> <span class="n">selection</span> <span class="ow">is</span> <span class="n">BX610</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseDataSelParams</span>  <span class="n">spw</span> <span class="n">selection</span> <span class="ow">is</span> <span class="mi">0</span><span class="p">:</span><span class="mi">0</span><span class="o">~</span><span class="mi">477</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="n">average</span> <span class="ow">is</span> <span class="n">activated</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">parseChanAvgParams</span>  <span class="n">Channel</span> <span class="nb">bin</span> <span class="ow">is</span> <span class="p">[</span><span class="mi">478</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">colCheckInfo</span>        <span class="n">Adding</span> <span class="n">DATA</span> <span class="n">column</span> <span class="n">to</span> <span class="n">output</span> <span class="n">MS</span> <span class="kn">from</span> <span class="nn">input</span> <span class="n">DATA</span> <span class="n">column</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">Fields</span> <span class="n">Ids</span> <span class="n">are</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span>     <span class="n">Selected</span> <span class="n">SPWs</span> <span class="n">Ids</span> <span class="n">are</span> <span class="n">Axis</span> <span class="n">Lengths</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">]</span>  <span class="p">(</span><span class="n">NB</span><span class="p">:</span> <span class="n">Matrix</span> <span class="ow">in</span> <span class="n">Row</span><span class="o">/</span><span class="n">Column</span> <span class="n">order</span><span class="p">)</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">initDataSelectionParams</span><span class="o">+</span>    <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">477</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="nb">open</span>        <span class="n">Select</span> <span class="n">data</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mi">58</span> <span class="n">INFO</span>    <span class="n">MSTransformManager</span><span class="p">::</span><span class="n">createOutputMSStructure</span>     <span class="n">Create</span> <span class="n">output</span> <span class="n">MS</span> <span class="n">structure</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">02</span> <span class="n">INFO</span>    <span class="n">ParallelDataHelper</span><span class="p">::::</span><span class="n">casa</span>      <span class="n">Apply</span> <span class="n">the</span> <span class="n">transformations</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">17</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Result</span> <span class="n">mstransform</span><span class="p">:</span> <span class="kc">True</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">17</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="n">Task</span> <span class="n">mstransform</span> <span class="n">complete</span><span class="o">.</span> <span class="n">Start</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">22</span> <span class="mi">22</span><span class="p">:</span><span class="mi">32</span><span class="p">:</span><span class="mf">58.361491</span> <span class="n">End</span> <span class="n">time</span><span class="p">:</span> <span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">22</span> <span class="mi">22</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mf">17.303864</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">17</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##### End Task: mstransform          #####</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">10</span><span class="o">-</span><span class="mi">23</span> <span class="mi">03</span><span class="p">:</span><span class="mi">33</span><span class="p">:</span><span class="mi">17</span> <span class="n">INFO</span>    <span class="n">mstransform</span><span class="p">::::</span><span class="n">casa</span>     <span class="c1">##########################################</span>
</pre></div>
</div>
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>142633016064.75403 144500299865.06604 3906451.4650878906 479
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="demo_bx610_amoeba.html" class="btn btn-neutral float-right" title="Example BX610: perform model fitting using method=‘amoeba’" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="demo_hxmm01_simulate.html" class="btn btn-neutral float-left" title="Example HXMM01: test the MS-simulation modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Rui Xue

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>