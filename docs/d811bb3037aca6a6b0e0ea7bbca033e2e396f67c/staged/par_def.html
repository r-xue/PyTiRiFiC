
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Input File Format &#8212; Astropy Package Template 1.2 documentation</title>
    <link rel="stylesheet" href="_static/bootstrap-astropy.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <script type="text/javascript" src="_static/sidebar.js"></script>
    <script type="text/javascript" src="_static/copybutton.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600' rel='stylesheet' type='text/css'/>

  </head><body>
<div class="topbar">
  <a class="brand" title="Documentation Home" href="index.html"><span id="logotext1">astro</span><span id="logotext2">py</span><span id="logotext3">:docs</span></a>
  <ul>
    
    <li><a class="homelink" title="Astropy Homepage" href="http://www.astropy.org"></a></li>
    <li><a title="General Index" href="genindex.html">Index</a></li>
    <li><a title="Module Index" href="py-modindex.html">Modules</a></li>
    <li>
      
      
<form action="search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
      
    </li>
  </ul>
</div>

<div class="related">
    <h3>Navigation</h3>
    <ul>
      <li>
	<a href="index.html">Astropy Package Template 1.2 documentation</a>
	 &#187;
      </li>
      
       
    </ul>
</div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="input-file-format">
<h1>Input File Format<a class="headerlink" href="#input-file-format" title="Permalink to this headline">¶</a></h1>
<div class="section" id="brief">
<h2>Brief<a class="headerlink" href="#brief" title="Permalink to this headline">¶</a></h2>
<p>The content of a input parameter file is divided into different sections/blocks.
Any line begins with ‘&#64;’ (followed with the section name) mark the beginning of a new section (as in this file).
Each section describe one specific aspect of parameterized models or provides controls on how the program works.</p>
</div>
<div class="section" id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<p>A section should fall into one the following categories:</p>
<ul>
<li><p>Model Properties</p>
<blockquote>
<div><dl class="simple">
<dt>&#64; emission_component_name<span class="classifier">describe the model properties of a emission component</span></dt><dd><p>with a user-specified section name</p>
</dd>
<dt>&#64; dynamics_component_name<span class="classifier">describe the model properties of a dynamical component</span></dt><dd><p>with a user-specified section name</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p>Program Controls</p>
<blockquote>
<div><dl class="simple">
<dt>&#64; optimize<span class="classifier">a uniq parameter section named “optimize”, which contains</span></dt><dd><p>parameters controlling how the program perform parameter optimization</p>
</dd>
<dt>&#64; analyze<span class="classifier">a uniq parameter section named “analyze”, which contains</span></dt><dd><p>parameters controlling how the program runs analysis on the fitting results</p>
</dd>
<dt>&#64; plot<span class="classifier">a uniq parameter section named “plot”, which contains</span></dt><dd><p>parameters controlling how the program generate diagnostic plots</p>
</dd>
</dl>
<p>&#64; misc      :   other general program control parameters</p>
</div></blockquote>
</li>
<li><p>Parameter Groups</p>
<blockquote>
<div><dl class="simple">
<dt>&#64; paramater_group_name<span class="classifier">a set of keyword which can be “imported” into another parameter section:</span></dt><dd><p>for example, a set of parameters shared across different emission components</p>
</dd>
</dl>
</div></blockquote>
</li>
<li><p>Comments</p>
<blockquote>
<div><p>&#64; <em>comments*notes</em>          :   any section with the name containing the following word:
&#64; <em>note</em>                        “commnet”, “note”, “changlog” will be marked as comments
&#64; <em>changlog</em>                    and the content will not be ignored by the program</p>
<dl class="simple">
<dt>note: “#” also marks the beginning of inline comments or commented line,</dt><dd><p>i.a. anything behind it will also not be passed to the program.</p>
</dd>
</dl>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="keyword-value-pair-syntax">
<h2>Keyword-Value Pair Syntax<a class="headerlink" href="#keyword-value-pair-syntax" title="Permalink to this headline">¶</a></h2>
<p>Under each none-comments section, each line always follow the basic keyword+value pair syntax, separated by white space
The first word is considered as the parameter “keyword”, and the rest of the line will be considered as the value content.
The “value” part needs to be the string representation of a Python object (think about repr()), e.g.:</p>
<blockquote>
<div><p>‘test’      :   a string type with a value of “test”
3.0         :   a float type with a value of 3.0</p>
</div></blockquote>
<dl>
<dt>Technical note:</dt><dd><blockquote>
<div><p>The program uses the Python package ASTEVAL to determine the value content and type, not the evil eval()…
If the first ASTEVAL evaluation fails, the program will:</p>
<blockquote>
<div><p>do split() -&gt; re-evaluate on each element -&gt; assemble the results into a list -&gt; assign the list to the keyword
This feature is only designed to work a backend solution for some special paramater input files</p>
</div></blockquote>
</div></blockquote>
<ul>
<li><p>Directory Path</p>
<p>The data/output file paths are specified in relative to the working directory (where you lunch GMaKE, either using CLI or a Python script).
To clear up any confusion, absolute paths can also be used.</p>
</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="the-magic-of">
<h2>The magic of “&#64;”<a class="headerlink" href="#the-magic-of" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Any line begins with ‘&#64;’ mark the beginning of a new section (as in this file)</p>
<blockquote>
<div><p>The section name is created from valid characters (ignoring comments) following  “&#64;”, with leading/trailing space removed
some section names are reserved for special purposes:</p>
<blockquote>
<div><ul class="simple">
<li><p>A name containing “comment”, “changelog”, “ignore” is considered as comments and the content in that section will be discarded by the program</p></li>
<li><p>A name containing “optimize” denote the parameter section control the optimization.</p></li>
<li><p>A name not meeting the above standard will be considered as a model component</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>denote the “parent” object of a parameter:</dt><dd><p>e.g. “<a class="reference external" href="mailto:pa&#37;&#52;&#48;co21disk">pa<span>&#64;</span>co21disk</a>” = the position angle of the components named “co21disk”</p>
</dd>
</dl>
</li>
<li><p>Tie the parameter values:</p>
<blockquote>
<div><p>when a parameter value is set to a string containing “&#64;”, it means its value is tied to a math expression of some other parameter(s)
e.g.    if <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co21disk">‘vdis<span>&#64;</span>co21disk</a>’ is assigned to ‘vdis’ in the object <a class="reference external" href="mailto:'&#37;&#52;&#48;co10disk">‘<span>&#64;</span>co10disk</a>’ parameter section,</p>
<blockquote>
<div><p>then the value of <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co10disk">‘vdis<span>&#64;</span>co10disk</a>’ is always tied to that of <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co21disk">‘vdis<span>&#64;</span>co21disk</a>’ in modeling.
if <a class="reference external" href="mailto:'2&#46;*influx&#37;&#52;&#48;line1">‘2<span>&#46;</span>*influx<span>&#64;</span>line1</a>’ is assigned to ‘intflux’ in the object <a class="reference external" href="mailto:'&#37;&#52;&#48;line2">‘<span>&#64;</span>line2</a>’ parameter section,
then the value of <a class="reference external" href="mailto:'intflux&#37;&#52;&#48;line2">‘intflux<span>&#64;</span>line2</a>’ is always twice of <a class="reference external" href="mailto:'flux&#37;&#52;&#48;line1">‘flux<span>&#64;</span>line1</a>’</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>one can cross-reference all keywords from a different section by using</p>
<blockquote>
<div><p>import    ‘sectionname’
the place where this line is will be important as inp2mod will overwrite existing keywords by design</p>
</div></blockquote>
</li>
<li><p>cross reference will only work at 1st level.</p></li>
</ul>
</div>
<div class="section" id="others">
<h2>Others<a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h2>
<p>Special syntax in parameter input files:</p>
<p><strong>“&#64;”</strong>:</p>
<ul class="simple">
<li><p>tag the parameter set associated with a specific object; in short, “A&#64;B” = A of B</p></li>
<li><p>tie different parameters across different.</p></li>
</ul>
<p>A simple math function could be implemented in future, e.g.,
<em>px = 2.0*(py&#64;objz)</em>; <em>px = sqrt(*(py&#64;objz))</em></p>
<p><strong>“#”</strong>:</p>
<ul class="simple">
<li><p>user comments, not read by the <strong>*gmake_utils/gmake_readpars*</strong></p></li>
<li><p>&#64;comments / &#64;changelog can be also used for comments/notes</p></li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3>Page Contents</h3>
<ul>
<li><a class="reference internal" href="#">Input File Format</a><ul>
<li><a class="reference internal" href="#brief">Brief</a></li>
<li><a class="reference internal" href="#sections">Sections</a></li>
<li><a class="reference internal" href="#keyword-value-pair-syntax">Keyword-Value Pair Syntax</a></li>
<li><a class="reference internal" href="#the-magic-of">The magic of “&#64;”</a></li>
<li><a class="reference internal" href="#others">Others</a></li>
</ul>
</li>
</ul>


        </div>
      </div>
      <div class="clearer"></div>
    </div>
<footer class="footer">
  <p class="pull-right">
    <a href="_sources/par_def.rst.txt"
       rel="nofollow">Page Source</a> &nbsp;
    <a href="#">Back to Top</a></p>
  <p>
    &copy; Copyright 2017, The Astropy Developers.<br/>
    Created using <a href="http://www.sphinx-doc.org/en/stable/">Sphinx</a> 2.2.0. &nbsp;
  </p>
</footer>
  </body>
</html>