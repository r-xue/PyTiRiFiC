

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Parameter File Format &mdash; ism3d 0.3.dev1 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://unpkg.com/@jupyter-widgets/html-manager@^0.18.0/dist/embed-amd.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/gallery.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="CASA6 Installation" href="casa6.html" />
    <link rel="prev" title="History" href="../history.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ism3d
          

          
          </a>

          
            
            
              <div class="version">
                0.3.dev1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a></li>
</ul>
<p class="caption"><span class="caption-text">Technical Specification/Notes</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Parameter File Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interpreter">Interpreter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#datatype-expression-support">DataType/Expression Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="#section-keyword-reference">Section/Keyword Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sections">Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="#keyword-value-pairs">Keyword-Value Pairs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#others">Others</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="casa6.html">CASA6 Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Development</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../develop/background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/goals.html">Design Goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/ack.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/seealso.html">See also</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/dictionary.html">ISM3D Dictionary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../develop/callgraph.html">ISM3D call graph</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Direct API Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_uvhelper.html">ism3d.uvhelper: visibility imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_arts.html">ism3d.arts: model artificial sources in different shapes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_api_lens.html">ism3d.arts.lens: model artificial sources with gravitational lensing effects</a></li>
</ul>
<p class="caption"><span class="caption-text">Benchmarking</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../benchmark/demo_invert_ft.html">Invert</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tests/test_uvsample_performance.html">Test the performance of the Image-to-MS-related modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Modeling</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_b4c2_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 2 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_b4c5_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 4 Cycle 5 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_b6c3_uv_ab.html">Example BX610: perform model fitting using method=‘amoeba’ for the Band 6 Cycle 3 DataSet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_model_1dspec.html">Invert Visibility + Plot 1D spectra (may take a while)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_emcee.html">Example BX610: perform model fitting using method=‘emcee’</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_hxmm01_simulate.html">Example HXMM01: test the MS-simulation modules</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: misc</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials: Data Preparation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_gn20_prep.html">Example: GN20 (z~4 SMF) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_prep.html">Example: BX610 (High-z SFG) : Data Prep</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_hxmm01_prep.html">Example: HXMM01 (High-z Merger)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_gn20_imaging.html">Example GN20: perform imaging of CO 2-1 dataset</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demos/demo_bx610_imaging.html">Example: BX610 (High-z SFG) : Data Imaging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/demo_notebook.html">Tutorials &amp; Examples</a></li>
</ul>
<p class="caption"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../_autosummary/ism3d.html">ism3d</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ism3d</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Parameter File Format</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="parameter-file-format">
<h1>Parameter File Format<a class="headerlink" href="#parameter-file-format" title="Permalink to this headline">¶</a></h1>
<div class="section" id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Permalink to this headline">¶</a></h2>
<p>The syntax of <strong>ism3d</strong> input parameter files (.inp or .ini) strictly follows the <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI</a> format, which can be easily parsed by the built-in Python module <a class="reference external" href="https://docs.python.org/3/library/configparser.html">configparser</a>.
The choice was made after a comparison among several readable plain-text syntaxes options (e.g., csv/json/yaml/yanny/xml), mainly due to its simplifcity and wide support from many other languages.
Foundamentally, the file content is always divided into <strong>sections</strong>, each of which contains keys with values.
As a regular <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI</a> file, user comments (starting with <strong>#</strong>)are supported.</p>
<p><a class="reference external" href="https://docs.python.org/3/library/configparser.html">configparser</a> natively do not guess datatypes of values and always storing them internally as string.
To support more advantages features, we build an under-layer intepreter to further convert the string-based input metadata into type-sensitive nested dictionary using <a class="reference external" href="https://newville.github.io/asteval">ASTEVAL</a>.
This nested dictionary not only specifiy individual source models, but also contain the metadata of observed data and control model rendering and fitting workflows.
Here, we describe some useful features built-in the parameter file intepreter and how to use sections to manage modeling workflows.</p>
</div>
<div class="section" id="interpreter">
<h2>Interpreter<a class="headerlink" href="#interpreter" title="Permalink to this headline">¶</a></h2>
<div class="section" id="datatype-expression-support">
<h3>DataType/Expression Support<a class="headerlink" href="#datatype-expression-support" title="Permalink to this headline">¶</a></h3>
<p>All values associated with individual keys will be evaluated by <a class="reference external" href="https://newville.github.io/asteval">ASTEVAL</a>, which treats strings as mathematical expressions and statements (as an alterantive to <a class="reference external" href="https://docs.python.org/3/library/ast.html#ast.literal_eval">ast.literal_eval()</a> or the built-in <a class="reference external" href="https://docs.python.org/3/library/functions.html#eval">eval()</a>).
Therefore, all values specified parameter files should be written as Python literals, and later mapped into desired data types (see the example below). Beside the default built-in Python datatypes, we also include some objects from astropy (e.g., <code class="docutils literal notranslate"><span class="pre">astropy.units</span></code> and <code class="docutils literal notranslate"><span class="pre">astropy.coordinates.SkyCoord</span></code>).
Specifcailly, we add the following notation into the <a class="reference external" href="https://newville.github.io/asteval">ASTEVAL</a> symtable:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span>           <span class="p">:</span> <span class="n">astropy</span><span class="o">.</span><span class="n">units</span>
<span class="n">Angle</span>       <span class="p">:</span> <span class="n">astropy</span><span class="o">.</span><span class="n">coordiante</span><span class="o">.</span><span class="n">Angle</span>
<span class="n">Quantity</span>    <span class="p">:</span> <span class="n">astropy</span><span class="o">.</span><span class="n">units</span><span class="o">.</span><span class="n">quantity</span>
<span class="n">SkyCoord</span>    <span class="p">:</span> <span class="n">astropy</span><span class="o">.</span><span class="n">coordinates</span><span class="o">.</span><span class="n">SkyCoord</span>
<span class="n">np</span>          <span class="p">:</span> <span class="n">numpy</span>
</pre></div>
</div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[disk1]</span>
<span class="na">type</span>          <span class="o">=</span>      <span class="s">&#39;disk3d&#39;</span>
<span class="na">import</span>        <span class="o">=</span>      <span class="s">&#39;basics&#39;</span>
<span class="na">z</span>           <span class="o">=</span>        <span class="s">4.06</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">SkyCoord(ra=0,dec=0,unit=&quot;deg&quot;)</span>
<span class="na">contflux</span>     <span class="o">=</span>       <span class="s">(0.00001 * u.Unit(&#39;Jy&#39;),20* u.Unit(&#39;GHz&#39;),1.0)</span>
<span class="na">pa</span>          <span class="o">=</span>        <span class="s">(70+90)*u.deg</span>
<span class="na">inc</span>         <span class="o">=</span>        <span class="s">60.00*u.deg</span>
<span class="na">sbProf</span>       <span class="o">=</span>       <span class="s">(&#39;norm2d&#39;,40*u.kpc)</span>
</pre></div>
</div>
<p>We note that the converted datatypes for some parameters is always restricted. For example, <code class="docutils literal notranslate"><span class="pre">xypos</span></code> will be saved as a SkyCoord object although it can be written as a two-element tuple, a string, or a litereal expression of SkyCoord.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[object1]</span>
<span class="na">...</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">SkyCoord(ra=0,dec=0,unit=&quot;deg&quot;)    # option 1</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">&#39;23h46m09.4373s +12d49m19.2479s&#39;   # option 2</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">(189.2933333-1*40/3600,62.3711111+1*15/3600)  # option 3</span>
<span class="na">...</span>
</pre></div>
</div>
</div>
<div class="section" id="section-keyword-reference">
<h3>Section/Keyword Reference<a class="headerlink" href="#section-keyword-reference" title="Permalink to this headline">¶</a></h3>
<p>Section referencing is introduced to link the parameters from one section (with dedicated purposes) to one keyword of another section.
For example, we can link a section describing gravitional potential to the rotation curve of a disk model (see <code class="docutils literal notranslate"><span class="pre">basics.rcProf</span></code>)</p>
<p>Another important application of section referencing is sharing common parameters between different sections.
Specifcailly, a set of keyword which can be “imported” into another input section using the syntax <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">=</span> <span class="pre">'section_name'</span></code>
Then a group of parameters can be shared across several sections of different purpose
For example, if two emission lines arised from the same thin-disk galaxy geometry but with different spatial distribution in the disk plane,
we can write the parameters describing disk geometry into one paramater section and only reference them from other two sections actually specifiying line models. This will simplying model fitting and reduce redudent paramater requirements (see <code class="docutils literal notranslate"><span class="pre">co43.import</span></code> and <code class="docutils literal notranslate"><span class="pre">ci10.import</span></code>)</p>
<p>Keyword referencing can be used to “tie” different parameters within a section or even across differen section. In the example below, <code class="docutils literal notranslate"><span class="pre">ci10.lineflux</span></code> is set to a third of the value of <code class="docutils literal notranslate"><span class="pre">co43.lineflux</span></code>.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[basics]</span>
<span class="na">object</span>         <span class="o">=</span>    <span class="s">&#39;bx610&#39;</span>
<span class="na">z</span>              <span class="o">=</span>    <span class="s">2.21</span>
<span class="na">pa</span>             <span class="o">=</span>    <span class="s">-54.22660862671279 * u.Unit(&#39;deg&#39;)</span>
<span class="na">inc</span>            <span class="o">=</span>    <span class="s">46.24786218695453 * u.Unit(&#39;deg&#39;)</span>
<span class="na">xypos</span>          <span class="o">=</span>    <span class="s">&#39;23h46m09.4373s +12d49m19.2479s&#39; # or SkyCoord(&#39;23h46m09.4373s +12d49m19.2479s&#39;,frame=&#39;icrs&#39;)</span>
<span class="na">vsys</span>           <span class="o">=</span>      <span class="s">104 * u.Unit(&#39;km / s&#39;)</span>
<span class="na">rcProf</span>         <span class="o">=</span>      <span class="s">(&#39;potential&#39;,&#39;pots&#39;)</span>
<span class="na">vSigma</span>         <span class="o">=</span>        <span class="s">50.430210605487204 * u.Unit(&#39;km / s&#39;)</span>
<span class="na">vrot_rpcorr</span>    <span class="o">=</span>      <span class="s">True</span>

<span class="k">[pots]</span>
<span class="na">type</span>           <span class="o">=</span>      <span class="s">&#39;potential&#39;</span>
<span class="na">import</span>         <span class="o">=</span>      <span class="s">&#39;basics&#39;</span>
<span class="na">expdisk</span>        <span class="o">=</span>      <span class="s">(1000.2938616145047 * u.Unit(&#39;solMass / pc2&#39;),3.5 * u.Unit(&#39;kpc&#39;))</span>
<span class="na">dexpdisk</span>       <span class="o">=</span>       <span class="s">(10 * u.Unit(&#39;solMass / pc3&#39;),3.5 * u.Unit(&#39;kpc&#39;),0.5 * u.Unit(&#39;kpc&#39;))</span>
<span class="na">nm3expdisk</span>     <span class="o">=</span>       <span class="s">(10 * u.Unit(&#39;solMass / pc3&#39;),3.5 * u.Unit(&#39;kpc&#39;),0.5 * u.Unit(&#39;kpc&#39;),True)</span>
<span class="na">nfw</span>            <span class="o">=</span>      <span class="s">(500000000000.0 * u.Unit(&#39;solMass&#39;),2.21)</span>
<span class="na">isochrone</span>      <span class="o">=</span>      <span class="s">(10**10*u.Unit(&#39;solMass&#39;),0.1*u.kpc)</span>
<span class="na">kepler</span>         <span class="o">=</span>       <span class="s">10**10*u.Unit(&#39;solMass&#39;)</span>

<span class="k">[co43]</span>
<span class="na">type</span>               <span class="o">=</span>  <span class="s">&#39;disk3d&#39;</span>
<span class="na">import</span>             <span class="o">=</span>  <span class="s">&#39;basics&#39;</span>
<span class="na">note</span>               <span class="o">=</span>  <span class="s">&#39;CO 4-3 of BX610 in BB2&#39;</span>
<span class="na">vis</span>                <span class="o">=</span>   <span class="s">&#39;../data/bx610/alma/2013.1.00059.S/bb3.ms.pt2&#39;</span>
<span class="na">restfreq</span>           <span class="o">=</span>  <span class="s">461.0407682 * u.Unit(&#39;GHz&#39;)</span>
<span class="na">lineflux</span>           <span class="o">=</span>  <span class="s">1.4 * u.Unit(&#39;Jy km / s&#39;)</span>
<span class="na">sbProf</span>             <span class="o">=</span>  <span class="s">(&#39;sersic2d&#39;,2.0*u.kpc,1)</span>
<span class="na">vbProf</span>             <span class="o">=</span>  <span class="s">(&#39;sech&#39;,0.25*u.kpc)</span>

<span class="k">[ci10]</span>
<span class="na">type</span>               <span class="o">=</span>  <span class="s">&#39;disk3d&#39;</span>
<span class="na">import</span>             <span class="o">=</span>  <span class="s">&#39;basics&#39;</span>
<span class="na">note</span>               <span class="o">=</span>  <span class="s">&#39;CI 1-0 of BX610 in BB2&#39;</span>
<span class="na">vis</span>                <span class="o">=</span>  <span class="s">&#39;../data/bx610/alma/2013.1.00059.S/bb1.ms.pt2&#39;</span>
<span class="na">restfreq</span>           <span class="o">=</span>  <span class="s">492.160651 * u.Unit(&#39;GHz&#39;)</span>
<span class="na">lineflux</span>           <span class="o">=</span>  <span class="s">co43[&#39;lineflux&#39;]/3</span>
<span class="na">sbProf</span>             <span class="o">=</span>  <span class="s">(&#39;sersic2d&#39;,3.0*u.kpc,1)</span>
<span class="na">vbProf</span>             <span class="o">=</span>  <span class="s">(&#39;sech&#39;,0.5*u.kpc)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<p>Any line begins with <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> (followed with the <strong>section name</strong>) marks the beginning of a new input section (see <a class="reference external" href="https://github.com/r-xue/GMaKE/tree/master/examples/inpfile">examples</a>).
Each section usually describes one specific aspect of parameterized models or provides controls on how the program works.</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">##########################################################################################</span>
<span class="na">[disk1] # specifications of disk1</span>
<span class="c1">##########################################################################################</span>

<span class="na">type</span>          <span class="o">=</span>      <span class="s">&#39;disk3d&#39;</span>
<span class="na">import</span>        <span class="o">=</span>      <span class="s">&#39;basics&#39;</span>
<span class="na">z</span>           <span class="o">=</span>        <span class="s">4.06</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">(189.2933333+0*40/3600,62.3711111+1*15/3600)</span>
<span class="na">contflux</span>     <span class="o">=</span>       <span class="s">(0.00001 * u.Unit(&#39;Jy&#39;),20* u.Unit(&#39;GHz&#39;),8.0)</span>
<span class="na">pa</span>          <span class="o">=</span>        <span class="s">70.00*u.deg</span>
<span class="na">inc</span>         <span class="o">=</span>        <span class="s">60.00*u.deg</span>
<span class="na">sbProf</span>       <span class="o">=</span>       <span class="s">(&#39;norm2d&#39;,40*u.kpc)</span>

<span class="c1">###########################################################################################</span>
<span class="na">[disk2] # specifications of disk2 (eqvauilent to disk1, despite different rendering option</span>
<span class="c1">###########################################################################################</span>

<span class="na">type</span>          <span class="o">=</span>       <span class="s">&#39;apmodel&#39;</span>
<span class="na">z</span>            <span class="o">=</span>       <span class="s">4.0548</span>
<span class="na">xypos</span>        <span class="o">=</span>       <span class="s">(189.2933333+0*40/3600,62.3711111+0*15/3600)</span>
<span class="na">contflux</span>     <span class="o">=</span>       <span class="s">(0.001 * u.Unit(&#39;Jy&#39;),46 * u.Unit(&#39;GHz&#39;),3.0)</span>
<span class="na">sbProf</span>       <span class="o">=</span>       <span class="s">(&#39;Gaussian2D&#39;,40*u.kpc,20*u.kpc,70*u.deg)</span>

<span class="c1">##########################################################################################</span>
<span class="na">[sie1] # lense model</span>
<span class="c1">##########################################################################################</span>

<span class="na">type</span>        <span class="o">=</span> <span class="s">&#39;lens&#39;</span>
<span class="na">xypos</span>       <span class="o">=</span>        <span class="s">&#39;12h37m11.89s +62d22m11.8s&#39;</span>
<span class="na">lsProf</span>      <span class="o">=</span>  <span class="s">(&#39;sie&#39;,10*u.arcsec,0.5,70*u.deg)</span>
</pre></div>
</div>
<p>A input section should fall into one of the following categories:</p>
<ul>
<li><p>Model Properties</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">emission_component_name</span></code></p>
<p>The section describes the physical properties of a emission component (either line or continuum), with a user-specified section name.
Its content will be parsed and used by <strong>GMaKE</strong>, to build a spatially resolved multi-wavelength reference emission model.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">dynamics_component_name</span></code></p>
<p>The section describes the properties of a dynamical component, and its content will be used to a build kinematic model (e.g. rotational curve, veloccity dispersion) for line emission component(s). By combing the kinematic model with the prescription of line emission spatial distribution, <strong>GMaKE</strong> can construct the representation of a line emission in a spectral cube dimension.</p>
</div></blockquote>
</li>
<li><p>Program Controls</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">[ism3d.optimize]</span></code></p>
<p>a section named <code class="docutils literal notranslate"><span class="pre">optimize</span></code>, which contains parameters controlling how the program perform parameter optimization</p>
<p><code class="docutils literal notranslate"><span class="pre">[ism3d.analyze]</span></code></p>
<p>a section named <code class="docutils literal notranslate"><span class="pre">analyze</span></code>, which contains parameters controlling how the program runs diagnostics analysis on fitting results.</p>
<p><code class="docutils literal notranslate"><span class="pre">[ism3d.plot]</span></code></p>
<p>a section named <code class="docutils literal notranslate"><span class="pre">plot</span></code>, which contains parameters controlling how the program generate diagnostic plots</p>
<p><code class="docutils literal notranslate"><span class="pre">[ism3d.general</span></code></p>
<p>a section named <code class="docutils literal notranslate"><span class="pre">misc</span></code>, which contains some general configuration information on <strong>GMaKE</strong> (e.g., specifying the location of output files or working folders)</p>
</div></blockquote>
</li>
<li><p>Comments</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">&#64;</span> <span class="pre">comment/note/changlog</span></code></p>
<p>Any section with the name containing the following word: <code class="docutils literal notranslate"><span class="pre">comment</span></code>, <code class="docutils literal notranslate"><span class="pre">note</span></code>, <code class="docutils literal notranslate"><span class="pre">changelog</span></code>. The content of such section will flagged as comments by <em>GMaKE</em>.</p>
<p><em>Note</em>: <code class="docutils literal notranslate"><span class="pre">#</span></code> still marks the beginning of inline comments or commented lines, i.a. anything behind <code class="docutils literal notranslate"><span class="pre">#</span></code> will not be passed to the program.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="keyword-value-pairs">
<h2>Keyword-Value Pairs<a class="headerlink" href="#keyword-value-pairs" title="Permalink to this headline">¶</a></h2>
<p>Within each none-comments section, every line always follow the basic keyword-value pair syntax, separated by white space.
The first word is considered as the parameter “keyword”, and the rest of the line will be considered as its value.
In the <strong>GMaKE</strong> input file, the “value” needs to be the string representation of a Python object (think about the output of the Python function <code class="docutils literal notranslate"><span class="pre">repr</span></code>), e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keyword1</span>    <span class="s1">&#39;test&#39;</span>      <span class="c1">#   a string &quot;test&quot; is assigned to keyword1</span>
<span class="n">keyword2</span>    <span class="mf">3.0</span>         <span class="c1">#   a float-type value of 3.0 is assigned to keyword2</span>
</pre></div>
</div>
<p>The keywords from one section will not inference keywords from another section with a different section name.
In another word, a keyword will only reside within a section (or local)</p>
<ul class="simple">
<li><p>Directory Path</p></li>
</ul>
<p>Technical note:</p>
<blockquote>
<div><p>The program uses the Python package ASTEVAL to determine the value content and type, not the evil eval()…
If the first ASTEVAL evaluation fails, the program will:</p>
<blockquote>
<div><p>do split() -&gt; re-evaluate on each element -&gt; assemble the results into a list -&gt; assign the list to the keyword
This feature is only designed to work a backend solution for some special paramater input files</p>
</div></blockquote>
<p>The data/output file paths are specified in relative to the working directory (where you lunch GMaKE, either using CLI or a Python script).
To clear up any confusion, absolute paths can also be used.</p>
</div></blockquote>
<ul>
<li><p>Any line begins with ‘&#64;’ mark the beginning of a new section (as in this file)</p>
<blockquote>
<div><p>The section name is created from valid characters (ignoring comments) following  “&#64;”, with leading/trailing space removed
some section names are reserved for special purposes:</p>
<blockquote>
<div><ul class="simple">
<li><p>A name containing “comment”, “changelog”, “ignore” is considered as comments and the content in that section will be discarded by the program</p></li>
<li><p>A name containing “optimize” denote the parameter section control the optimization.</p></li>
<li><p>A name not meeting the above standard will be considered as a model component</p></li>
</ul>
</div></blockquote>
</div></blockquote>
</li>
<li><dl class="simple">
<dt>denote the “parent” object of a parameter:</dt><dd><p>e.g. “<a class="reference external" href="mailto:pa&#37;&#52;&#48;co21disk">pa<span>&#64;</span>co21disk</a>” = the position angle of the components named “co21disk”</p>
</dd>
</dl>
</li>
<li><p>Tie the parameter values:</p>
<blockquote>
<div><p>when a parameter value is set to a string containing “&#64;”, it means its value is tied to a math expression of some other parameter(s)
e.g.    if <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co21disk">‘vdis<span>&#64;</span>co21disk</a>’ is assigned to ‘vdis’ in the object <a class="reference external" href="mailto:'&#37;&#52;&#48;co10disk">‘<span>&#64;</span>co10disk</a>’ parameter section,</p>
<blockquote>
<div><p>then the value of <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co10disk">‘vdis<span>&#64;</span>co10disk</a>’ is always tied to that of <a class="reference external" href="mailto:'vdis&#37;&#52;&#48;co21disk">‘vdis<span>&#64;</span>co21disk</a>’ in modeling.
if <a class="reference external" href="mailto:'2&#46;*influx&#37;&#52;&#48;line1">‘2<span>&#46;</span>*influx<span>&#64;</span>line1</a>’ is assigned to ‘intflux’ in the object <a class="reference external" href="mailto:'&#37;&#52;&#48;line2">‘<span>&#64;</span>line2</a>’ parameter section,
then the value of <a class="reference external" href="mailto:'intflux&#37;&#52;&#48;line2">‘intflux<span>&#64;</span>line2</a>’ is always twice of <a class="reference external" href="mailto:'flux&#37;&#52;&#48;line1">‘flux<span>&#64;</span>line1</a>’</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>one can cross-reference all keywords from a different section by using</p>
<blockquote>
<div><p>import    ‘sectionname’
the place where this line is will be important as inp2mod will overwrite existing keywords by design</p>
</div></blockquote>
</li>
<li><p>cross reference will only work at 1st level.</p></li>
</ul>
</div>
<div class="section" id="others">
<h2>Others<a class="headerlink" href="#others" title="Permalink to this headline">¶</a></h2>
<p>Special syntax in parameter input files:</p>
<p><strong>“&#64;”</strong>:</p>
<ul class="simple">
<li><p>tag the parameter set associated with a specific object; in short, “A&#64;B” = A of B</p></li>
<li><p>tie different parameters across different.</p></li>
</ul>
<p>A simple math function could be implemented in future, e.g.,
<em>px = 2.0*(py&#64;objz)</em>; <em>px = sqrt(*(py&#64;objz))</em></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="casa6.html" class="btn btn-neutral float-right" title="CASA6 Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../history.html" class="btn btn-neutral float-left" title="History" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Rui Xue

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>