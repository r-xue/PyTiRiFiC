################################################################################
@ basics
################################################################################

object              'gn20'
z                   4.0548

pa                  -135.00*u.deg
inc                 44.06*u.deg
#   SkyCoord(ra=356.53932590540563,dec=12.82201818705264,unit="deg").to_string(style='hmsdms') 
xypos               '12h37m11.89s +62d22m11.8s'
#xypos               '23h46m09.5382s +12d49m19.2655s'
vsys                0*u.km/u.s
#vsys                200*u.km/u.s

vrad                [0, 0.12, 0.24, 0.36, 0.48,0.60,0.72]*u.arcsec
#vrot                [0.0, 197.03794217978916, 197.03794217978916, 197.03794217978916, 197.03794217978916]*u.km/u.s
#vrot                'diskdyn'
vrot                ('arctan',200*u.km/u.s,0.2*u.arcsec)
vdis                20*u.km/u.s
vrot_rpcorr         True

#rcProf              ('rho : minimum(rho/p2,1.0)*p1',400*u.km/u.s,5*u.kpc)
rcProf              ('tanh',400*u.km/u.s,10*u.kpc)
#rcProf              ('tanh',200*u.km/u.s,8*u.kpc)
vRadial             -60*u.km/u.s
#vRadial             -40*u.km/u.s
vSigma              +60*u.km/u.s
#vSigma              +20*u.km/u.s

################################################################################
@ diskdyn                       
################################################################################

#disk_sd         5e3*u.Unit('Msun/pc^2')                 #  msun/kpc^2.0
disk_sd         1e3*u.Unit('Msun/pc^2')                 #  msun/kpc^2.0
disk_rs         8.0*u.kpc                 #  kpc
#halo_ms         5e10*u.Msun                #  msun
#halo_a          100.0*u.kpc                #  kpc
#halo_conv         4.0                #
#nfw_mvir         0.5*10.**12*u.Msun                # 10.^12 msun
type            'potential'

################################################################################
@ co21                
################################################################################

type                'disk3d'
import              'basics'
note                'CO 4-3 of BX610 in BB2'

# ','.join(glob.glob('../data/gn20/vla/AC974*.ms'))
#vis                 '../../../../examples/data/gn20/vla/AC974.100409.ms,../../../../examples/data/gn20/vla/AC974.100408.ms'
image                  'test_data_withnoise.fits'
error                  'test_error.fits'
psf                    (0.5*u.arcsec,0.5*u.arcsec,0*u.deg)
lognsigma              0        #<-- used to scale sigma in case the error map is under/over estimated 
                                #it is part of noise model or error-map 
#
restfreq            230.53800000*u.GHz
lineflux            1.0*u.Jy*u.km/u.s

sbProf              ('sersic2d',10*u.kpc,2)
#sbProf              ('sersic2d',5*u.kpc,2)
vbProf              ('sech',1*u.kpc)
rotAz               ('log',0*u.kpc,20*u.kpc,270*u.deg,5*u.kpc)
sbQ                 0.3

################################################################################
@ optimize
################################################################################

vsys@basics             ('a', [-250, 250]*u.km/u.s)
rcProf[1]@basics                  ('a', [100,600]*u.km/u.s)
vRadial@basics         ('a', [-100,0]*u.km/u.s)
vSigma@basics         ('a', [10,100]*u.km/u.s)
sbProf[1]@co21     ('a', [1,30]*u.kpc)
#inc@basics              ('a', [20,80]*u.deg)
#pa@basics              ('a', [-180,0]*u.deg)

#disk_sd@diskdyn         ('a', [1e2, 5e4]*u.Unit('Msun/pc^2'))
#disk_rs@diskdyn         ('a', [0.2, 10]*u.kpc)

#vdis@basics            ('a', [0.0, 200.0]*u.km/u.s)
#pa@basics                  ('o', [-80, 80]*u.deg)
#inc@basics                 ('a', [5.0, 85.0]*u.deg)
#xypos.ra@basics         ('o', [-1,1]*u.arcsec)
#xypos.dec@basics        ('o', [-1,1]*u.arcsec)
#vdis@basics             ('a', [10,60]*u.km/u.s)

#lineflux@co21           ('a', [0.01, 200.0]*u.Unit('Jy km/s'))
#sbProf[1]@co21           ('a', [0.1, 40.0]*u.kpc)

#lineflux@ci10           ('a', [0.1, 200.0]*u.Unit('Jy km/s'))
#sbser[0]@ci10           ('a', [0.01, 2.0]*u.arcsec)

#contflux@cont           ('a', [0.0001, 0.01]*u.Jy)
#sbser[0]@cont           ('a', [0.01, 2.0]*u.arcsec)

#alpha@cont              ('a', [3, 4.5])
#pa@cont                ('o', [-60, 60]*u.deg)
#inc@cont               ('a', [0, 45.0]*u.deg)

#method                  'amoeba'
#niter                   200

lognsigma@co21          ('a',[-20,20])
method                  'emcee'
niter                   100
nwalkers                20

################################################################################
@ general
################################################################################

outdir               './'
outname_replace      [('../data/gn20/vla/', '')]
outname_exclude      []
